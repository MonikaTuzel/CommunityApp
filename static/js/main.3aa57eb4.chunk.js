(this["webpackJsonpcommunity-app"]=this["webpackJsonpcommunity-app"]||[]).push([[0],{292:function(e,t,n){},318:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(45),i=n.n(c),s=(n(292),n(215)),r=n.n(s),l=n(221),d=n.n(l),j=n(222),u=n.n(j),h=n(223),x=n.n(h),b=n(224),p=n.n(b),f=n(225),O=n.n(f),m=n(1),w=[{title:"U\u017cytkownicy",path:"/users",icon:Object(m.jsx)(r.a,{color:"secondary"}),text:"U\u017cytkownicy"},{title:"Dokumenty",path:"/files",icon:Object(m.jsx)(d.a,{color:"secondary"})},{title:"Dostawy",path:"/delivery",icon:Object(m.jsx)(u.a,{color:"secondary"})},{title:"Adresy",path:"/adresses",icon:Object(m.jsx)(x.a,{color:"secondary"})},{title:"Wiadomo\u015bci",path:"/contacts",icon:Object(m.jsx)(p.a,{color:"secondary"})},{title:"Ustawienia",path:"/settings",icon:Object(m.jsx)(O.a,{color:"secondary"})}],v=n(137),y=n(56),g=n(410),k=n(388),C=n(174),N=n(385),S=n(401),P=n(30),z=n(408),I=n(409),D=n(406),A=n(248),T=Object(N.a)((function(e){return{page:{background:"#f9f9f9",width:"100%"},drawer:{width:200},drawerPaper:{},root:{display:"flex"},active:{background:"#aed581",borderRadius:"15px"},tlo:{margin:10,marginLeft:0},logo:{display:"flex",justifyContent:"center",marginTop:15},toolbar:e.mixins.toolbar,date:{flexGrow:1}}}));function W(e){var t=e.children,n=T(),a=Object(P.f)(),o=Object(P.e)();return console.log(o.state,"location"),Object(m.jsxs)("div",{className:n.root,children:[Object(m.jsx)(z.a,{sx:{width:"calc(100% - ".concat(200,"px)"),backgroundColor:"white"},children:Object(m.jsxs)(I.a,{sx:{display:"flex",justifyContent:"space-around"},children:[Object(m.jsxs)(v.a,{children:["Dzisiejsza data: ",Object(A.a)(new Date,"d MM Y")]}),Object(m.jsx)(v.a,{children:Object(m.jsx)(y.a,{onClick:function(){return a("/settings",{state:o.state})},children:Object(m.jsx)(D.a,{alt:"szkola",src:"logo_szko\u0142a.png",sx:{width:50,height:50}})})}),Object(m.jsx)(v.a,{children:Object(m.jsx)(y.a,{color:"secondary",onClick:function(){return a("/login")},children:"Wyloguj!"})})]})}),Object(m.jsxs)(S.a,{className:n.drawer,variant:"permanent",anchor:"left",classes:{paper:n.drawerPaper},children:[Object(m.jsx)("div",{children:Object(m.jsx)(v.a,{variant:"h5",className:n.logo,children:Object(m.jsx)(y.a,{onClick:function(){return a("/home",{state:o.state})},children:Object(m.jsx)("img",{src:"Kleks_logo.png",alt:"kleks",style:{width:100}})})})}),Object(m.jsx)("div",{className:n.tlo,children:Object(m.jsx)(g.a,{children:w.map((function(e){return"Szkola"!=o.state.role||"/users"!=e.path&&"/adresses"!=e.path?Object(m.jsx)(v.a,{className:o.pathname==e.path?n.active:n.unactive,sx:{display:"flex",width:180,m:1,borderRadius:"15px","&:hover":{borderRadius:"15px"}},children:Object(m.jsxs)(k.a,{onClick:function(){return a(e.path,{state:o.state})},children:[Object(m.jsx)(C.a,{children:e.icon}),Object(m.jsxs)(v.a,{variant:"h6",children:[" ",e.title]})]},e.title)}):null}))})})]}),Object(m.jsxs)("div",{className:n.page,children:[Object(m.jsx)("div",{className:n.toolbar}),t]})]})}var R=n(37),E=n(411),U=n(5),F=n(402),M="https://localhost:5021/users",L="https://localhost:5021/users/account/login",J="https://localhost:5021/users/account/register",Z="https://localhost:5021/message",G="https://localhost:5021/message/send",B="https://localhost:5021/message/read",K="https://localhost:5021/message/reply",_="https://localhost:5021/towns",H="https://localhost:5021/contacts/AddNewTown",V="https://localhost:5021/contacts",$="https://localhost:5021/addresses_browse",Y="https://localhost:5021/delivery",q="https://localhost:5021/delivery",Q="https://localhost:5021/delivery/history",X="https://localhost:5021/delivery/create",ee="https://localhost:5021/files/browse",te="https://localhost:5021/files/download",ne="https://localhost:5021/files/newUpload",ae="https://localhost:5021/files/upload",oe=Object(F.a)({info:{width:"100%",height:"auto",display:"flex",flexDirection:"row",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px",background:"white"},account:{width:"50%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center"}});function ce(){var e=oe(),t=Object(a.useState)([]),n=Object(U.a)(t,2),o=n[0],c=n[1],i=Object(P.e)();return Object(a.useEffect)((function(){fetch(M+"/".concat(i.state.id)).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]),console.log(i.state,"HP"),Object(m.jsx)(E.a,{sx:{padding:2},children:Object(m.jsxs)(v.a,{className:e.info,children:[Object(m.jsx)(v.a,{className:e.account,sx:{borderRight:2,borderColor:"#c5cae9"},children:Object(m.jsx)("img",{src:"mleko.jpg",alt:"mleko",style:{width:400}})}),Object(m.jsxs)(v.a,{sx:{m:3,width:"95%",height:"auto"},children:[Object(m.jsx)("h1",{children:"Witaj!"}),Object(m.jsxs)("h3",{children:["Jeste\u015b zalogowany jako u\u017cytkownik: ",o.fullName," "]})]})]})})}function ie(e){var t=e.props,n=Object(P.g)(t).id;return console.log(n,"props"),Object(m.jsx)(E.a,{children:Object(m.jsx)(v.a,{sx:{mt:3},children:Object(m.jsx)(ce,{id:n})})})}var se=n(13),re=n.n(se),le=n(25),de=n(3),je=n(24),ue=n(77),he=n(403),xe=Object(F.a)({contc:{width:"350px",height:"480px",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px",flexWrap:"wrap"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",flexWrap:"wrap"}});function be(){var e,t,n=xe(),o=Object(a.useState)([]),c=Object(U.a)(o,2),i=c[0],s=c[1],r=Object(a.useState)(i[0]),l=Object(U.a)(r,2),d=l[0],j=(l[1],Object(P.e)()),u=Object(a.useState)({senderId:j.state.id}),h=Object(U.a)(u,2),x=h[0],b=h[1];Object(a.useEffect)((function(){fetch(M).then((function(e){return e.json()})).then((function(e){return s(e)}))}),[]);var p=function(e,t){var n,a=e.target.id;a.includes("clear-on-escape-option")&&(a="userId"),b(Object(je.a)(Object(je.a)({},x),{},Object(de.a)({},a,null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:e.target.value)))},f=function(){var e=Object(le.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"POST",body:JSON.stringify(x),headers:{"Content-Type":"application/json"}},fetch(G,t).then((function(){b({userId:x.userId})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(x,"newMessage"),Object(m.jsx)(E.a,{sx:{padding:3},children:Object(m.jsxs)(v.a,{className:n.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"#c5cae9"},children:[Object(m.jsx)(v.a,{variant:"h5",color:"#e8eaf6",component:"h2",align:"center",sx:{borderRadius:"15px",boxShadow:5,background:"#689f38",width:"80%"},children:"Wy\u015blij wiadomo\u015b\u0107"}),Object(m.jsx)(v.a,{className:n.autocom,children:Object(m.jsx)(he.a,{value:d,id:"clear-on-escape",clearOnEscape:!0,options:i,getOptionLabel:function(e){return e.fullName},sx:{width:280},onChange:p,renderInput:function(e){return Object(m.jsx)(ue.a,Object(je.a)(Object(je.a)({helperText:"Wybierz u\u017cytkownika z listy"},e),{},{label:"Nadawca",variant:"standard"}))}})}),Object(m.jsx)(v.a,{children:Object(m.jsx)(ue.a,{id:"topic",value:null!==(e=null===x||void 0===x?void 0:x.topic)&&void 0!==e?e:"",sx:{m:1,width:"280px"},label:"Temat wiadomo\u015bci",multiline:!0,rows:2,placeholder:"Temat",variant:"standard",color:"secondary",onChange:p})}),Object(m.jsx)(v.a,{children:Object(m.jsx)(ue.a,{id:"contents",value:null!==(t=null===x||void 0===x?void 0:x.contents)&&void 0!==t?t:"",sx:{m:1,width:"280px"},multiline:!0,rows:4,label:"Wiadomo\u015b\u0107...",helperText:"Prosz\u0119 wpisa\u0107 tre\u015b\u0107 wiadomo\u015bci",variant:"outlined",onChange:p})}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px"},type:"submit",color:"secondary",variant:"contained",onClick:f,disabled:!(x.userId&&x.topic&&x.contents),children:"Wy\u015blij"})})]})})}var pe=n(405),fe=n(396),Oe=n(234),me=n.n(Oe),we=n(413),ve=n(395),ye=n(414),ge=n(415),ke=n(233),Ce=n.n(ke),Ne=n(232),Se=n.n(Ne),Pe=Object(F.a)({contc:{width:"550px",height:"300px",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",border:1,borderRadius:"15px",borderColor:"#7986cb"},tekstbox:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"}});function ze(e){var t=Pe(),n=e.date,o=e.messageId,c=e.userName,i=e.topic,s=e.content,r=e.openPopupMess,l=e.setOpenPopupMess,d=Object(a.useState)({messageId:o,senderName:"Szkola Podstawowa nr 12",topic:i,content:s}),j=Object(U.a)(d,2),u=j[0],h=j[1];function x(){window.location.reload()}var b=function(e,t){var n,a=e.target.id;a.includes("clear-on-escape-option")&&(a="userId"),h(Object(je.a)(Object(je.a)({},u),{},Object(de.a)({},a,null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:e.target.value)))},p=function(){var e=Object(le.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json"}},fetch(K,t).then(x);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(we.a,{open:r,children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:function(){l(!1)},children:"Anuluj"}),Object(m.jsx)(ve.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsxs)("h2",{children:[" Odpowiedz na wiadomo\u015b\u0107 od u\u017cytkownika:  ",c," "]})})}),Object(m.jsx)(ye.a,{sx:{display:"flex",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsxs)(v.a,{className:t.contc,p:1,sx:{boxShadow:3},children:[Object(m.jsx)(v.a,{children:Object(m.jsx)(ue.a,{id:"topic",value:"Re: "+i,sx:{m:1,width:"500px"},label:"Temat wiadomo\u015bci",multiline:!0,rows:2,color:"secondary",onChange:b})}),Object(m.jsx)(v.a,{children:Object(m.jsx)(ue.a,{id:"contents",value:null===u||void 0===u?void 0:u.contents,sx:{m:1,width:"500px"},multiline:!0,rows:5,label:"Wiadomo\u015b\u0107...",defaultValue:"\n------\nDnia: "+n+",U\u017cytkownik "+c+" napisa\u0142: "+s,onChange:b})}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px"},type:"submit",color:"secondary",variant:"contained",onClick:p,children:"Wy\u015blij"})})]})})})]})}function Ie(e){var t=e.openPopup,n=e.setOpenPopup,c=e.message,i=Object(a.useState)(!1),s=Object(U.a)(i,2),r=s[0],l=s[1],d=function(){n(!1),window.location.reload()};function j(){window.location.reload()}var u=o.a.useCallback((function(e){return function(){fetch(Z+"/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(){d()})).then(j),console.log(e,"deleteMessage")}}),[]);return Object(m.jsxs)(we.a,{open:t,children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:d,children:"Zamknij"}),Object(m.jsx)(ve.a,{children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("h3",{children:[" Wiadomo\u015b\u0107 od u\u017cytkownika:  ",null===c||void 0===c?void 0:c.senderName," "]}),Object(m.jsxs)("h4",{children:["Temat: ",null===c||void 0===c?void 0:c.topic," "]}),Object(m.jsxs)("h6",{children:["Data nadania: ",null===c||void 0===c?void 0:c.date," "]})]})}),Object(m.jsx)(ye.a,{children:null===c||void 0===c?void 0:c.contents}),Object(m.jsxs)(ge.a,{children:[Object(m.jsx)(y.a,{sx:{width:"150px",height:"35px"},color:"secondary",variant:"outlined",startIcon:Object(m.jsx)(Se.a,{}),onClick:Object(le.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(c);case 2:case"end":return e.stop()}}),e)}))),children:"Odpowiedz"}),Object(m.jsx)(y.a,{sx:{width:"150px",height:"35px"},color:"secondary",variant:"outlined",onClick:u(null===c||void 0===c?void 0:c.id),startIcon:Object(m.jsx)(Ce.a,{}),children:"Usu\u0144"})]}),Object(m.jsx)(ze,{date:null===c||void 0===c?void 0:c.date,messageId:null===c||void 0===c?void 0:c.id,userId:null===c||void 0===c?void 0:c.userId,userName:null===c||void 0===c?void 0:c.senderName,topic:null===c||void 0===c?void 0:c.topic,content:null===c||void 0===c?void 0:c.contents,openPopupMess:r,setOpenPopupMess:l})]})}var De=Object(F.a)({contc:{width:"auto",height:"480px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",textAlign:"center",borderRadius:"15px",flexWrap:"wrap"},mess:{width:"auto",height:"auto",bgcolor:"background.paper",position:"relative",overflow:"auto",maxHeight:400,"& ul":{padding:0},flexWrap:"wrap"}});function Ae(){var e=De(),t=Object(a.useState)([]),n=Object(U.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(),r=Object(U.a)(s,2),l=r[0],d=r[1],j=Object(a.useState)(!1),u=Object(U.a)(j,2),h=u[0],x=u[1],b=Object(P.e)();Object(a.useEffect)((function(){fetch(Z+"/".concat(b.state.id)).then((function(e){return e.json()})).then((function(e){return i(e)})).then((function(e){return console.log(e)}))}),[]);var p=function(){var e=Object(le.a)(re.a.mark((function e(t){var n,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.find((function(e){return e.id==t})),a={method:"PUT",body:JSON.stringify(),headers:{"Content-Type":"application/json"}},fetch(B+"/".concat(t),a),d(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(le.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.find((function(e){return e.id==t})),d(n),console.log(n,"element");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(E.a,{sx:{padding:3},children:Object(m.jsxs)(v.a,{className:e.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"#c5cae9"},children:[Object(m.jsx)(v.a,{variant:"h5",color:"#e8eaf6",component:"h2",align:"center",sx:{borderRadius:"15px",boxShadow:5,background:"#689f38",width:"80%"},children:"Twoje wiadomo\u015bci"}),Object(m.jsx)(Ie,{openPopup:h,setOpenPopup:x,message:l}),Object(m.jsx)(v.a,{sx:{height:"400px",width:"580px",boxShadow:3},children:Object(m.jsx)(g.a,{dense:!0,className:e.mess,children:c.map((function(e){return Object(m.jsx)(pe.a,{sx:{height:"80px",width:"550px",boxShadow:2,border:1,borderRadius:"15px",borderColor:"#e1f5fe",m:1},disablePadding:!0,children:Object(m.jsx)(k.a,{style:{borderRadius:"15px",background:"Nieprzeczytane"==e.statusName?"#ccff90":null},onClick:Object(le.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e.id).then((function(){x(!0),"Nieprzeczytane"==e.statusName&&p(e.id)}));case 2:case"end":return t.stop()}}),t)}))),children:Object(m.jsxs)(pe.a,{alignItems:"flex-start",children:[Object(m.jsx)(C.a,{children:Object(m.jsx)(me.a,{color:"secondary",sx:{fontSize:"xx-large"}})}),Object(m.jsx)(fe.a,{primary:e.topic,secondary:Object(m.jsx)(o.a.Fragment,{children:Object(m.jsxs)(v.a,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:["Nadawca: ",e.senderName]})})},e.Id)]})})})}))})})]})})}var Te=Object(F.a)({mess:{display:"flex",direction:"row",flexFlow:"stretch",background:"white"}});function We(e){var t=e.props,n=Te(),a=Object(P.g)(t).id;return Object(m.jsx)(E.a,{children:Object(m.jsxs)(v.a,{className:n.mess,sx:{mt:3},children:[Object(m.jsx)(Ae,{id:a}),Object(m.jsx)(be,{id:a})]})})}var Re=n(88),Ee=n.n(Re),Ue=n(71),Fe=n(57),Me=Object(F.a)({contc:{width:"auto",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"},tekstbox:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"flex-start"}});function Le(e){var t,n=Me(),o=e.openPopupDelivery,c=e.setOpenPopupDelivery,i=e.delivery,s=Object(a.useState)(),r=Object(U.a)(s,2),l=(r[0],r[1],Object(P.e)()),d=function(){c(!1)};function j(){window.location.reload()}var u=function(){var e=Object(le.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={method:"PUT",body:JSON.stringify(),headers:{"Content-Type":"application/json"}},fetch(Y+"/".concat(t),n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(we.a,{open:o,fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:d,children:"Anuluj"}),Object(m.jsx)(ve.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Szczeg\xf3\u0142y dostawy"})})}),Object(m.jsx)(ye.a,{sx:{display:"flex",justifyContent:"center",textAlign:"center"},children:Object(m.jsxs)(v.a,{className:n.contc,p:1,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsxs)("p",{children:["Nazwa u\u017cytkownika: ",null===i||void 0===i?void 0:i.userName]}),Object(m.jsxs)("p",{children:["Ilo\u015b\u0107 uczni\xf3w: ",null===i||void 0===i?void 0:i.studentScore," "]}),Object(m.jsxs)("p",{children:["Termin dostawy: ",null===i||void 0===i?void 0:i.deliveryDate," "]}),Object(m.jsxs)("p",{children:["Rok szkolny: ",null===i||void 0===i?void 0:i.year," "]}),Object(m.jsxs)("p",{children:["Semestr: ",null===i||void 0===i?void 0:i.semestr," "]}),Object(m.jsxs)("p",{children:["Tydzie\u0144: ",null===i||void 0===i?void 0:i.week," "]}),Object(m.jsxs)("p",{children:["Opis: ",null===i||void 0===i?void 0:i.description," "]}),Object(m.jsxs)("p",{children:["Ostatnia aktualizacja: ",null===i||void 0===i?void 0:i.updateDate," "]}),Object(m.jsxs)("p",{children:["Status: ",null===i||void 0===i?void 0:i.statusName," "]})]}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,(t={sx:{width:"130px",height:"30px"},type:"submit",color:"secondary",variant:"contained",disabled:"Zrealizowano"==(null===i||void 0===i?void 0:i.statusName)},Object(de.a)(t,"disabled",!function(){if("Admin"===l.state.role)return 1}()),Object(de.a)(t,"onClick",Object(le.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(null===i||void 0===i?void 0:i.id).then((function(){d()})).then(j);case 2:case"end":return e.stop()}}),e)})))),Object(de.a)(t,"children","Zrealizowano"),t))})]})})]})}var Je=Object(F.a)({contc:{width:"auto",minWidth:"500px",height:"300px",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",width:"auto",minWidth:"470px",height:"220px",borderRadius:"15px"}});function Ze(){var e=Object(a.useState)([]),t=Object(U.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)([]),i=Object(U.a)(c,2),s=(i[0],i[1],Je()),r=Object(a.useState)(),l=Object(U.a)(r,2),d=l[0],j=l[1],u=Object(a.useState)(!1),h=Object(U.a)(u,2),x=h[0],b=h[1],p=Object(P.e)();Object(a.useEffect)((function(){"Szkola"===p.state.role&&fetch(q+"/future/".concat(p.state.id)).then((function(e){return e.json()})).then((function(e){return o(e)})),"Admin"===p.state.role&&fetch(q+"/future").then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]);var f=function(){var e=Object(le.a)(re.a.mark((function e(t){var a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.find((function(e){return e.id==t})),j(a),console.log(a,"elementFuture");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=[{field:"deliveryDate",headerName:"Data",width:150},{field:"userName",headerName:"Nazwa",width:150},{field:"studentScore",headerName:"Ilo\u015b\u0107",width:80},{field:"actions",type:"actions",width:30,headerName:"I",cellClassName:"actions",getActions:function(e){return[Object(m.jsx)(Ue.a,{icon:Object(m.jsx)(Ee.a,{}),label:"Info",onClick:Object(le.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e.id).then((function(){b(!0)}));case 2:case"end":return t.stop()}}),t)}))),color:"inherit"})]}}];return Object(m.jsx)(E.a,{sx:{padding:3},children:Object(m.jsxs)(v.a,{className:s.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"#c5cae9"},children:[Object(m.jsx)(v.a,{variant:"h5",color:"#e8eaf6",component:"h2",align:"center",sx:{borderRadius:"15px",boxShadow:5,background:"#689f38",width:"80%"},children:"Planowane dostawy"}),Object(m.jsx)(v.a,{className:s.autocom,sx:{boxShadow:3},children:Object(m.jsx)(Fe.a,{rows:n,columns:O})}),Object(m.jsx)(Le,{openPopupDelivery:x,setOpenPopupDelivery:b,delivery:d})]})})}var Ge=Object(F.a)({contc:{width:"auto",minWidth:"500px",height:"300px",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",width:"auto",minWidth:"470px",height:"220px",borderRadius:"15px"}});function Be(){var e=Object(a.useState)([]),t=Object(U.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)([]),i=Object(U.a)(c,2),s=(i[0],i[1],Ge()),r=Object(a.useState)([]),l=Object(U.a)(r,2),d=l[0],j=l[1],u=Object(a.useState)(!1),h=Object(U.a)(u,2),x=h[0],b=h[1],p=Object(P.e)();Object(a.useEffect)((function(){"Szkola"===p.state.role&&fetch(Q+"/".concat(p.state.id)).then((function(e){return e.json()})).then((function(e){return o(e)})),"Admin"===p.state.role&&fetch(Q).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]);var f=function(){var e=Object(le.a)(re.a.mark((function e(t){var a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.find((function(e){return e.id==t})),j(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=[{field:"deliveryDate",headerName:"Data",width:150},{field:"userName",headerName:"Nazwa",width:150},{field:"studentScore",headerName:"Ilo\u015b\u0107",width:80},{field:"actions",type:"actions",width:30,headerName:"I",cellClassName:"actions",getActions:function(e){return[Object(m.jsx)(Ue.a,{icon:Object(m.jsx)(Ee.a,{}),label:"Info",color:"inherit",onClick:Object(le.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e.id).then((function(){b(!0)}));case 2:case"end":return t.stop()}}),t)})))})]}}];return Object(m.jsx)(E.a,{sx:{padding:3},children:Object(m.jsxs)(v.a,{className:s.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"#c5cae9"},children:[Object(m.jsx)(v.a,{variant:"h5",color:"#e8eaf6",component:"h2",align:"center",sx:{borderRadius:"15px",boxShadow:5,background:"#689f38",width:"80%"},children:"Historia dostaw"}),Object(m.jsx)(v.a,{className:s.autocom,sx:{boxShadow:3},children:Object(m.jsx)(Fe.a,{rows:n,columns:O})}),Object(m.jsx)(Le,{openPopupDelivery:x,setOpenPopupDelivery:b,delivery:d})]})})}var Ke=n(416),_e=n(136),He=n.n(_e),Ve=n(398),$e=n(400),Ye=n(397),qe=n(72),Qe=n.n(qe),Xe=Object(F.a)({contc:{width:"900px",height:"auto",display:"flex",flexDirection:"row",justifyContent:"center",border:1,borderRadius:"15px",borderColor:"#7986cb"}});function et(e){var t=Xe(),n=e.openPopupAddDelivery,o=e.setOpenPopupAddDelivery,c=Object(a.useState)([]),i=Object(U.a)(c,2),s=i[0],r=i[1],l=Object(a.useState)(s[0]),d=Object(U.a)(l,2),j=d[0],u=(d[1],Object(a.useState)()),h=Object(U.a)(u,2),x=h[0],b=h[1];Object(P.e)();Object(a.useEffect)((function(){fetch(M).then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]);var p=function(){o(!1)},f=function(e,t){var n,a=e.target.id;a.includes("clear-on-escape-option")&&(a="userId"),b(Object(je.a)(Object(je.a)({},x),{},Object(de.a)({},a,null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:e.target.value)))};function O(){window.location.reload()}var w=function(){var e=Object(le.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"POST",body:JSON.stringify(x),headers:{"Content-Type":"application/json"}},fetch(X,t).then(p()).then(O);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(x,"newDelivery"),Object(m.jsxs)(we.a,{open:n,fullWidth:!0,maxWidth:"lg",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:p,children:"Anuluj"}),Object(m.jsx)(ve.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Dodaj now\u0105 dostaw\u0119 "})})}),Object(m.jsx)(ye.a,{sx:{display:"flex",justifyContent:"center",textAlign:"center"},children:Object(m.jsxs)(v.a,{component:"span",className:t.contc,p:1,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{component:"span",children:[Object(m.jsx)(he.a,{id:"clear-on-escape",value:j,noOptionsText:"Nie ma takiego u\u017cytkownika",clearOnEscape:!0,options:s,getOptionLabel:function(e){return e.fullName},sx:{m:1.5,width:350},onChange:f,renderInput:function(e){return Object(m.jsx)(ue.a,Object(je.a)(Object(je.a)({},e),{},{label:"Nazwa szko\u0142y"}))}}),Object(m.jsx)(Ye.a,{dateAdapter:$e.a,children:Object(m.jsx)(Ve.a,{spacing:3,sx:{m:1.5,width:"350px"},children:Object(m.jsx)("input",{type:"date",id:"deliveryDate",name:"deliveryDate",onChange:f})})}),Object(m.jsx)(ue.a,{id:"description",value:null===x||void 0===x?void 0:x.description,onChange:f,sx:{m:1.5,width:"350px"},label:"Uwagi",placeholder:"Uwagi",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(He.a,{})})},color:"secondary"})]}),Object(m.jsxs)(v.a,{component:"span",children:[Object(m.jsx)(Qe.a,{mask:"9999/9999",value:null===x||void 0===x?void 0:x.year,maskChar:" ",onChange:f,children:function(){return Object(m.jsx)(ue.a,{id:"year",sx:{m:1.5,width:"350px"},label:"Rok szkolny",placeholder:"Rok szkolny",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(He.a,{})})},color:"secondary"})}}),Object(m.jsx)(ue.a,{id:"semestr",value:null===x||void 0===x?void 0:x.semestr,onChange:f,type:"number",sx:{m:1.5,width:"350px"},label:"semestr",placeholder:"semestr",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(He.a,{})})},color:"secondary"}),Object(m.jsx)(ue.a,{id:"week",value:null===x||void 0===x?void 0:x.week,onChange:f,type:"number",sx:{m:1.5,width:"350px"},label:"Tydzie\u0144",placeholder:"Tydzie\u0144",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(He.a,{})})},color:"secondary"}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px"},type:"submit",color:"secondary",variant:"contained",onClick:w,children:"Akceptuj"})})]})]})})]})}var tt=n(113),nt=n.n(tt),at=Object(F.a)({contc:{width:"auto",height:"500px",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",width:"auto",minWidth:"1000px",height:"430px",borderRadius:"15px"}});function ot(){var e=at(),t=Object(a.useState)([]),n=Object(U.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)([]),s=Object(U.a)(i,2),r=s[0],l=(s[1],Object(a.useState)([])),d=Object(U.a)(l,2),j=d[0],u=d[1],h=Object(a.useState)(!1),x=Object(U.a)(h,2),b=x[0],p=x[1],f=Object(a.useState)(!1),O=Object(U.a)(f,2),w=O[0],g=O[1],k=Object(P.e)();Object(a.useEffect)((function(){"Szkola"===k.state.role&&fetch(q+"/".concat(k.state.id)).then((function(e){return e.json()})).then((function(e){return c(e)})),"Admin"===k.state.role&&fetch(q).then((function(e){return e.json()})).then((function(e){return c(e)})),console.log(r.roleId,"role")}),[]);var C=function(){var e=Object(le.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.find((function(e){return e.id==t})),u(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=[{field:"deliveryDate",headerName:"Data",width:180},{field:"year",headerName:"Rok",width:150},{field:"userName",headerName:"Nazwa",width:180},{field:"studentScore",headerName:"Ilo\u015b\u0107",width:80},{field:"description",headerName:"Opis",width:180},{field:"statusName",headerName:"Status",width:150},{field:"actions",type:"actions",width:60,headerName:"Info",cellClassName:"actions",getActions:function(e){return[Object(m.jsx)(Ue.a,{icon:Object(m.jsx)(Ee.a,{}),label:"Info",color:"inherit",onClick:Object(le.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e.id).then((function(){p(!0)}));case 2:case"end":return t.stop()}}),t)})))})]}}];return Object(m.jsx)(E.a,{sx:{padding:3},children:Object(m.jsxs)(v.a,{className:e.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"#c5cae9"},children:[Object(m.jsxs)(v.a,{variant:"h5",color:"#e8eaf6",component:"h2",align:"center",sx:{borderRadius:"15px",boxShadow:5,background:"#689f38",width:"80%"},children:["Wszystkie dostawy",Object(m.jsx)(y.a,{disabled:!function(){if("Admin"===k.state.role)return 1}(),children:Object(m.jsx)(nt.a,{onClick:function(){return g(!0)}})})]}),Object(m.jsx)(v.a,{className:e.autocom,sx:{boxShadow:3},children:Object(m.jsx)(Fe.a,{rows:o,columns:N})}),Object(m.jsx)(Le,{openPopupDelivery:b,setOpenPopupDelivery:p,delivery:j}),Object(m.jsx)(et,{openPopupAddDelivery:w,setOpenPopupAddDelivery:g})]})})}var ct=Object(F.a)({mess:{display:"flex",direction:"column",flexFlow:"stretch",margin:50,background:"white"},hist:{display:"flex",direction:"row",flexFlow:"stretch",margin:50,background:"white"}});function it(e){var t=e.props,n=ct(),a=Object(P.g)(t).id;return Object(m.jsx)(E.a,{children:Object(m.jsxs)(v.a,{sx:{mt:3},children:[Object(m.jsxs)(v.a,{className:n.hist,children:[Object(m.jsx)(Be,{id:a}),Object(m.jsx)(Ze,{id:a})]}),Object(m.jsx)(ot,{id:a})]})})}var st=n(6),rt=n(91),lt=n.n(rt),dt=n(161),jt=n.n(dt),ut=n(390),ht=Object(F.a)({contc:{width:"500px",height:"auto",display:"flex",flexDirection:"row",justifyContent:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",width:"350px"}});function xt(e){var t,n=ht(),o=e.openPopupFile,c=e.setOpenPopupFile,i=Object(a.useState)([]),s=Object(U.a)(i,2),r=s[0],l=s[1],d=Object(a.useState)(r[0]),j=Object(U.a)(d,2),u=j[0],h=(j[1],Object(a.useState)()),x=Object(U.a)(h,2),b=x[0],p=x[1],f=Object(a.useState)(!1),O=Object(U.a)(f,2),w=O[0],g=O[1],k=function(e,t){var n,a=e.target.id;a.includes("clear-on-escape-option")&&(a="userId"),p(Object(je.a)(Object(je.a)({},b),{},Object(de.a)({},a,null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:e.target.value)))},C=function(){c(!1)};return Object(a.useEffect)((function(){fetch(M).then((function(e){return e.json()})).then((function(e){return l(e)}))}),[]),Object(m.jsxs)(we.a,{open:o,fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:C,children:"Anuluj"}),Object(m.jsx)(ve.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Dodaj nowy dokument "})})}),Object(m.jsx)(ye.a,{sx:{display:"flex",justifyContent:"center"},children:Object(m.jsxs)(v.a,{className:n.contc,p:3,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)("label",{htmlFor:"contained-button-file",children:Object(m.jsx)(ut.a,{type:"file",onChange:function(e){g(e.target.files[0])},accept:"pdf/*",id:"contained-button-file",sx:{m:1}})}),Object(m.jsx)(ue.a,{id:"name",value:null!==(t=null===b||void 0===b?void 0:b.name)&&void 0!==t?t:"",onChange:k,sx:{m:1,width:"350px"},label:"Nazwa pliku",placeholder:"Nazwa pliku",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(lt.a,{})})},color:"secondary"}),Object(m.jsx)(he.a,{id:"clear-on-escape",value:u,noOptionsText:"Nie ma takiego u\u017cytkownika",clearOnEscape:!0,options:r,getOptionLabel:function(e){return e.fullName},sx:{m:1,width:350},onChange:k,renderInput:function(e){return Object(m.jsx)(ue.a,Object(je.a)(Object(je.a)({},e),{},{label:"Nazwa szko\u0142y"}))}}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",onClick:function(e){var t=new FormData;t.append("files",w),t.append("name",b.name),t.append("userId",b.userId),jt()({method:"post",url:ne,data:t}).then((function(e){var t=e.data;console.log("Succesfully uploaded: ",JSON.stringify(t))})).then(C())},children:"Wy\u015blij"})})]}),Object(m.jsx)(v.a,{})]})})]})}var bt=Object(F.a)({contc:{width:"500px",height:"auto",display:"flex",flexDirection:"row",justifyContent:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",width:"350px"}});function pt(e){var t=bt(),n=e.openPopupFileUpdate,o=e.setOpenPopupFileUpdate,c=e.file,i=Object(a.useState)(!1),s=Object(U.a)(i,2),r=s[0],l=s[1],d=function(){o(!1)};return Object(m.jsxs)(we.a,{open:n,fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:d,children:"Anuluj"}),Object(m.jsx)(ve.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Ode\u015blij dokument "})})}),Object(m.jsx)(ye.a,{sx:{display:"flex",justifyContent:"center"},children:Object(m.jsxs)(v.a,{className:t.contc,p:3,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)("label",{htmlFor:"contained-button-file",children:Object(m.jsx)(ut.a,{type:"file",onChange:function(e){l(e.target.files[0])},accept:"pdf/*",id:"contained-button-file",color:"secondary",sx:{m:1}})}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",onClick:function(e){var t=new FormData;t.append("files",r),jt()({method:"put",url:ae+"/".concat(c.id),data:t}).then((function(e){var t=e.data;console.log("Succesfully uploaded: ",JSON.stringify(t))})).then(d())},children:"Wy\u015blij"})})]}),Object(m.jsx)(v.a,{})]})})]})}var ft=Object(F.a)({contc:{width:"auto",height:"auto",display:"flex",flexDirection:"row",flexWrap:"wrap",borderRadius:"15px"}});function Ot(){var e=Object(a.useState)([]),t=Object(U.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),s=Object(U.a)(i,2),r=(s[0],s[1],ft()),l=Object(a.useState)([]),d=Object(U.a)(l,2),j=(d[0],d[1],Object(a.useState)(!1)),u=Object(U.a)(j,2),h=u[0],x=u[1],b=Object(a.useState)(!1),p=Object(U.a)(b,2),f=p[0],O=p[1],w=Object(a.useState)(),g=Object(U.a)(w,2),k=g[0],C=g[1],N=Object(P.e)();Object(st.a)("input")({display:"none"});Object(a.useEffect)((function(){"Szkola"===N.state.role&&fetch(ee+"/".concat(N.state.id)).then((function(e){return e.json()})).then((function(e){return c(e)})),"Admin"===N.state.role&&fetch(ee).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]);var S=function(){var e=Object(le.a)(re.a.mark((function e(t){var a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.find((function(e){return e.id==t})),C(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=o.a.useCallback((function(e){return function(){fetch(te+"/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=t,n.setAttribute("download","document.pdf"),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)}))}}));return Object(m.jsxs)(E.a,{sx:{padding:3},children:[Object(m.jsx)(v.a,{children:Object(m.jsxs)(y.a,{sx:{borderRadius:"55px",m:1},component:"span",type:"submit",color:"secondary",variant:"contained",onClick:function(){return x(!0)},disabled:!function(){if("Admin"===N.state.role)return 1}(),children:[Object(m.jsx)(nt.a,{sx:{fontSize:25,mr:1}}),"Dodaj"]})}),Object(m.jsx)(v.a,{component:"span",sx:{display:"flex",justifyContent:"space-around",alignItems:"stretch",flexDirection:"row",flexWrap:"wrap"},children:n.map((function(e){return Object(m.jsx)(v.a,{component:"span",sx:{padding:3},children:Object(m.jsxs)(v.a,{className:r.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"Zrealizowano"==e.statusName?"#b2ff59":"#ffeb3b",background:"Zrealizowano"==e.statusName?"#b2ff59":"#ffeb3b"},children:[Object(m.jsx)(D.a,{alt:"file",src:"grafika_dok.png",sx:{width:180,height:160,m:1}}),Object(m.jsxs)(v.a,{sx:{display:"flex",justifyContent:"space-around",flexDirection:"column",m:1},children:[Object(m.jsx)("h4",{children:e.name}),Object(m.jsxs)(v.a,{children:[Object(m.jsxs)("h7",{children:["Data: ",e.updateDate]}),Object(m.jsx)("h6",{children:e.statusName})]}),Object(m.jsxs)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(m.jsx)(y.a,{sx:{width:"80px",height:"25px",mr:2},type:"submit",color:"info",variant:"contained",onClick:z(e.id),children:"Pobierz"}),Object(m.jsx)(y.a,{sx:{width:"80px",height:"25px"},type:"submit",color:"success",variant:"contained",component:"span",disabled:"Zrealizowano"==e.statusName,onClick:Object(le.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e.id).then((function(){O(!0)}));case 2:case"end":return t.stop()}}),t)}))),children:"Ode\u015blij"})]})]})]})})}))}),Object(m.jsx)(xt,{openPopupFile:h,setOpenPopupFile:x}),Object(m.jsx)(pt,{openPopupFileUpdate:f,setOpenPopupFileUpdate:O,file:k})]})}var mt=Object(F.a)({mess:{display:"flex",direction:"row",flexFlow:"stretch",background:"white"}});function wt(e){var t=mt(),n=Object(P.g)(e).id;return Object(m.jsx)(E.a,{children:Object(m.jsx)(v.a,{className:t.mess,sx:{mt:3},children:Object(m.jsx)(Ot,{id:n})})})}var vt=n(256),yt=n(245),gt=n.n(yt),kt=n(246),Ct=n.n(kt),Nt=n(244),St=n.n(Nt),Pt=n(238),zt=n.n(Pt),It=n(49),Dt=n(93),At=n.n(Dt),Tt=n(92),Wt=n.n(Tt),Rt=n(237),Et=n.n(Rt),Ut=n(239),Ft=n.n(Ut),Mt=n(242),Lt=n.n(Mt),Jt=n(243),Zt=n.n(Jt),Gt=n(240),Bt=n.n(Gt),Kt=n(241),_t=n.n(Kt),Ht=n(134),Vt=n.n(Ht),$t=Object(F.a)({contc:{width:"auto",height:"auto",display:"flex",flexDirection:"row",justifyContent:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"},tekstbox:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"}});function Yt(e){var t,n=$t(),o=e.openPopup,c=e.setOpenPopup,i=Object(a.useState)([]),s=Object(U.a)(i,2),r=s[0],l=s[1],d=Object(a.useState)(),j=Object(U.a)(d,2),u=j[0],h=j[1],x=Object(a.useState)(r[0]),b=Object(U.a)(x,2),p=(b[0],b[1],Object(P.e)(),function(){c(!1)});Object(a.useEffect)((function(){fetch(_).then((function(e){return e.json()})).then((function(e){return l(e)}))}),[]);var f=Object(a.useState)({password:"",showPassword:!1,fullName:"",shortName:"",studentScore:"",street:"",number:"",code:"",phone:"",email:"",townId:""}),O=Object(U.a)(f,2),w=O[0],g=O[1];var k=function(e,t){var n=e.target.id;n.includes("clear-on-escape-option")&&(n="townId"),g(Object(je.a)(Object(je.a)({},w),{},Object(de.a)({},n,null!==t&&void 0!==t?t:e.target.value)))};function C(){window.location.reload()}console.log(u,"newUser");var N=function(){var e=Object(le.a)(re.a.mark((function e(){var t,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={fullName:w.fullName,shortName:w.shortName,studentScore:w.studentScore,street:w.street,number:w.number,code:w.code,phone:w.phone,email:w.email,townId:w.townId.id,password:w.password},n={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},fetch(J,n).then((function(){h()})).then(p()).then(C),console.log(t,"nowyUser");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(we.a,{open:o,fullWidth:!0,maxWidth:"lg",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:p,children:"Anuluj"}),Object(m.jsx)(ve.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:" Dodaj now\u0105 szko\u0142\u0119 "})})}),Object(m.jsx)(ye.a,{sx:{display:"flex",justifyContent:"center"},children:Object(m.jsxs)(v.a,{className:n.contc,p:2,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)(ue.a,{id:"fullName",value:w.fullName,onChange:k,sx:{m:1,width:"350px"},label:"Pe\u0142na nazwa szko\u0142y",placeholder:"Pe\u0142na nazwa szko\u0142y",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(Et.a,{})})},color:"secondary"}),Object(m.jsx)(ue.a,{id:"shortName",value:w.shortName,onChange:k,sx:{m:1,width:"350px"},label:"Skr\xf3cona nazwa szko\u0142y",placeholder:"Skr\xf3cona nazwa szko\u0142y",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(zt.a,{})})},color:"secondary"}),Object(m.jsx)(ue.a,{id:"studentScore",value:w.studentScore,type:"number",onChange:k,sx:{m:1,width:"350px"},label:"Ilo\u015b\u0107 uczni\xf3w",placeholder:"Ilo\u015b\u0107 uczni\xf3w",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(Ft.a,{})})},color:"secondary"})]}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(ue.a,{id:"street",value:w.street,onChange:k,sx:{m:1,width:"320px"},label:"Nazwa ulicy",placeholder:"Nazwa ulicy",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(Bt.a,{})})},color:"secondary"}),Object(m.jsx)(ue.a,{id:"number",value:w.number,type:"number",onChange:k,sx:{m:1,mt:2,width:"150px"},label:"Numer budynku",placeholder:"Numer budynku",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(_t.a,{})})},color:"secondary"}),Object(m.jsx)(Qe.a,{mask:"99999",value:w.code,onChange:k,maskChar:" ",children:function(){return Object(m.jsx)(ue.a,{id:"code",sx:{m:1,mt:2,width:"150px"},label:"Kod pocztowy",placeholder:"Kod pocztowy",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(Vt.a,{})})},color:"secondary"})}}),Object(m.jsx)(v.a,{className:n.autocom,children:Object(m.jsx)(he.a,{value:w.townId,onChange:k,id:"clear-on-escape",clearOnEscape:!0,options:r,getOptionLabel:function(e){return e.name},noOptionsText:"Dodaj nowe miasto",sx:{ml:1,mb:1,width:320},renderInput:function(e){return Object(m.jsx)(ue.a,Object(je.a)(Object(je.a)({helperText:"Wybierz nazw\u0119 miasta z listy"},e),{},{label:"Nazwa miasta",variant:"standard"}))}})}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"center"},mt:5,children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px"},type:"submit",color:"secondary",variant:"contained",disabled:!(w.fullName&&w.shortName&&w.studentScore&&w.street&&w.number&&w.code&&w.phone&&w.email&&w.password),onClick:N,children:"Utw\xf3rz"})})]}),Object(m.jsxs)(v.a,{ml:2,children:[Object(m.jsx)(Qe.a,{mask:"999999999",value:w.phone,onChange:k,maskChar:" ",children:function(){return Object(m.jsx)(ue.a,{id:"phone",onChange:k,sx:{m:1,width:"350px"},label:"Telefon kontaktowy",placeholder:"Telefon kontaktowy",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(Lt.a,{})})},color:"secondary"})}}),Object(m.jsx)(ue.a,{id:"email",value:w.email,onChange:k,sx:{m:1,width:"350px"},label:"Adres e-mail",placeholder:"Adres e-mail",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(Zt.a,{})})},color:"secondary"}),Object(m.jsx)(ue.a,(t={id:"password",value:w.password,sx:{m:1,width:"350px"},label:"Has\u0142o",type:w.showPassword?"text":"password"},Object(de.a)(t,"value",w.password),Object(de.a)(t,"onChange",k),Object(de.a)(t,"InputProps",{endAdornment:Object(m.jsx)(Ke.a,{position:"end",children:Object(m.jsx)(It.a,{"aria-label":"toggle password visibility",onClick:function(){g(Object(je.a)(Object(je.a)({},w),{},{showPassword:!w.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:w.showPassword?Object(m.jsx)(Wt.a,{}):Object(m.jsx)(At.a,{})})})}),Object(de.a)(t,"color","secondary"),t))]})]})}),Object(m.jsx)(ge.a,{})]})}var qt=Object(F.a)({contc:{width:"800px",height:"auto",display:"flex",flexDirection:"row",justifyContent:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"}});function Qt(e){var t=qt(),n=e.openPopupEditUser,o=e.setOpenPopupEditUser,c=e.user,i=Object(a.useState)(),s=Object(U.a)(i,2),r=s[0],l=s[1];Object(P.e)();function d(){window.location.reload()}Object(a.useEffect)((function(){c&&l(c)}),[c]);var j=function(e){var t=e.target.id;l(Object(je.a)(Object(je.a)({},r),{},Object(de.a)({},t,e.target.value)))};console.log(r,"nowyUser");var u=function(){var e=Object(le.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(le.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}},fetch(M+"/edit"+"/".concat(r.id),t).then(u()).then(d);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(r,"user"),Object(m.jsxs)(we.a,{open:n,fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"secondary",variant:"contained",onClick:u,children:"Anuluj"}),Object(m.jsx)(ve.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",marginBottom:7},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Edytuj dane u\u017cytkownika "})})}),Object(m.jsx)(ye.a,{sx:{display:"flex",justifyContent:"center"},children:Object(m.jsxs)(v.a,{className:t.contc,p:5,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)(ue.a,{disabled:!0,sx:{m:1,width:"200px"},label:"ID",placeholder:"ID",color:"secondary",value:null===c||void 0===c?void 0:c.id}),Object(m.jsx)(ue.a,{sx:{m:1,mt:2,width:"200px"},label:"Nazwa u\u017cytkownika",placeholder:"Nazwa u\u017cytkownika",color:"secondary",value:null===r||void 0===r?void 0:r.fullName,id:"fullName",onChange:j})]}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(ue.a,{sx:{m:1,mt:2,width:"200px"},label:"Ilo\u015b\u0107 uczni\xf3w",placeholder:"Ilo\u015b\u0107 uczni\xf3w",value:null===r||void 0===r?void 0:r.studentScore,id:"studentScore",onChange:j,InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(Vt.a,{})})},color:"secondary"}),Object(m.jsx)(Qe.a,{mask:"999999999",value:null===r||void 0===r?void 0:r.phone,maskChar:" ",onChange:j,children:function(){return Object(m.jsx)(ue.a,{sx:{m:1,mt:2,width:"200px"},label:"Numer telefonu",placeholder:"Numer telefonu",value:null===r||void 0===r?void 0:r.phone,id:"phone",onChange:j,InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(Vt.a,{})})},color:"secondary"})}}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",onClick:h,disabled:!((null===r||void 0===r?void 0:r.studentScore)&&(null===r||void 0===r?void 0:r.fullName)&&(null===r||void 0===r?void 0:r.phone)),children:"Akceptuj"})})]})]})})]})}var Xt=Object(F.a)({contc:{width:"800px",height:"auto",display:"flex",flexDirection:"row",justifyContent:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"}});function en(e){var t=Xt(),n=e.openPoupInfoUser,a=e.setOpenPoupInfoUser,o=e.user,c=e.dataTown,i=function(){var e=Object(le.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(we.a,{open:n,fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"secondary",variant:"contained",onClick:i,children:"Anuluj"}),Object(m.jsx)(ve.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",marginBottom:7},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Szczeg\xf3\u0142y u\u017cytkownika "})})}),Object(m.jsx)(ye.a,{sx:{display:"flex",justifyContent:"center"},children:Object(m.jsx)(v.a,{className:t.contc,p:5,sx:{boxShadow:3},children:Object(m.jsxs)(v.a,{children:[Object(m.jsxs)("h6",{children:["Id u\u017cytkownika: ",null===o||void 0===o?void 0:o.id]}),Object(m.jsxs)("h6",{children:["Nazwa u\u017cytkownika: ",null===o||void 0===o?void 0:o.fullName]}),Object(m.jsxs)("h6",{children:["Ilo\u015b\u0107 uczni\xf3w: ",null===o||void 0===o?void 0:o.studentScore," "]}),Object(m.jsxs)("h6",{children:["Adres: ul. ",null===c||void 0===c?void 0:c.street,"  ",null===c||void 0===c?void 0:c.number," , ",null===c||void 0===c?void 0:c.townName,"  "]}),Object(m.jsxs)("h6",{children:["Wojew\xf3dztwo: ",null===c||void 0===c?void 0:c.province," "]}),Object(m.jsxs)("h6",{children:["Powiat: ",null===c||void 0===c?void 0:c.district," "]}),Object(m.jsxs)("h6",{children:["Gmina: ",null===c||void 0===c?void 0:c.commune," "]})]})})})]})}function tn(e){var t=Object(a.useState)(!1),n=Object(U.a)(t,2),o=n[0],c=n[1];return Object(m.jsxs)(vt.a,{sx:{p:.5,pb:0,justifyContent:"space-between",display:"flex",alignItems:"flex-start",flexWrap:"wrap"},children:[Object(m.jsx)(v.a,{sx:{display:"flex",alignItems:"center",direction:"column",flexWrap:"wrap"},children:Object(m.jsx)("div",{children:Object(m.jsx)(Fe.c,{})})}),Object(m.jsxs)("div",{children:[Object(m.jsxs)(y.a,{sx:{borderRadius:"55px"},type:"submit",color:"secondary",variant:"contained",onClick:function(){return c(!0)},children:[Object(m.jsx)(St.a,{sx:{fontSize:25}}),"Dodaj now\u0105 szko\u0142\u0119"]}),Object(m.jsx)(Yt,{openPopup:o,setOpenPopup:c})]})]})}function nn(){var e=Object(a.useState)(!1),t=Object(U.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),s=Object(U.a)(i,2),r=s[0],l=s[1],d=[{field:"id",headerName:"ID",width:80},{field:"shortName",headerName:"Nazwa Szko\u0142y",width:130},{field:"fullName",headerName:"Nazwa",width:220},{field:"studentScore",headerName:"Uczniowie",width:100},{field:"phone",headerName:"Telefon",width:120},{field:"email",headerName:"E-mail",width:170},{field:"roleName",headerName:"Rola",width:90},{field:"actions",type:"actions",headerName:"Opcje",width:130,cellClassName:"actions",getActions:function(e){return[Object(m.jsx)(Ue.a,{icon:Object(m.jsx)(Ee.a,{}),label:"Info",color:"inherit",onClick:Object(le.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e.id).then((function(){l(!0)}));case 2:case"end":return t.stop()}}),t)})))}),Object(m.jsx)(Ue.a,{icon:Object(m.jsx)(gt.a,{}),label:"Edit",className:"textPrimary",onClick:Object(le.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e.id).then((function(){c(!0)}));case 2:case"end":return t.stop()}}),t)}))),color:"inherit"}),Object(m.jsx)(Ue.a,{icon:Object(m.jsx)(Ct.a,{}),label:"Delete",onClick:D(e.id),color:"inherit"})]}}],j=Object(a.useState)([]),u=Object(U.a)(j,2),h=u[0],x=u[1],b=Object(a.useState)(),p=Object(U.a)(b,2),f=p[0],O=p[1],w=Object(a.useState)(""),v=Object(U.a)(w,2),y=(v[0],v[1],Object(a.useState)(h.rows)),g=Object(U.a)(y,2),k=(g[0],g[1]),C=Object(a.useState)(),N=Object(U.a)(C,2),S=N[0],P=N[1];function z(){window.location.reload()}Object(a.useEffect)((function(){k(h.rows)}),[h.rows]);var I=function(){var e=Object(le.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.find((function(e){return e.id==t})),O(n),console.log(n,"elementUser"),e.next=5,fetch(V+"/".concat(t)).then((function(e){return e.json()})).then((function(e){return P(e)}));case 5:console.log(S,"elementTown");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=o.a.useCallback((function(e){return function(){fetch(M+"/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(){setTimeout((function(){x((function(t){return t.filter((function(t){return t.id!==e}))}))}))})).then(z)}}),[]);return Object(a.useEffect)((function(){fetch(M).then((function(e){return e.json()})).then((function(e){return x(e)}))}),[]),Object(m.jsxs)(vt.a,{sx:{boxShadow:4,bgcolor:"background.paper",height:500,width:1},children:[Object(m.jsx)(Qt,{openPopupEditUser:n,setOpenPopupEditUser:c,user:f}),Object(m.jsx)(en,{openPoupInfoUser:r,setOpenPoupInfoUser:l,user:f,dataTown:S}),Object(m.jsx)(Fe.a,{components:{Toolbar:tn},rows:h,columns:d})]})}function an(){return Object(m.jsx)(E.a,{sx:{mt:3},children:Object(m.jsx)(nn,{})})}n(197),n(196);var on=Object(F.a)({contc:{width:"500px",height:"auto",display:"flex",flexDirection:"row",justifyContent:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",width:"350px"}});function cn(e){var t,n,o,c,i,s=on(),r=e.openPopupTown,l=e.setOpenPopupTown,d=Object(a.useState)({province:"dolno\u015bl\u0105skie"}),j=Object(U.a)(d,2),u=j[0],h=j[1];var x=function(){l(!1)},b=function(e,t){var n=e.target.id;n.includes("clear-on-escape-option")&&(n="townId"),h(Object(je.a)(Object(je.a)({},u),{},Object(de.a)({},n,null!==t&&void 0!==t?t:e.target.value))),console.log(u,"newTown")},p=function(){var e=Object(le.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json"}},fetch(H,t).then(x());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(we.a,{open:r,fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:x,children:"Anuluj"}),Object(m.jsx)(ve.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Dodaj nowe miasto "})})}),Object(m.jsx)(ye.a,{sx:{display:"flex",justifyContent:"center"},children:Object(m.jsxs)(v.a,{className:s.contc,p:3,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)(ue.a,{id:"name",value:null!==(t=null===u||void 0===u?void 0:u.name)&&void 0!==t?t:"",onChange:b,sx:{m:1,width:"200px"},label:"Nazwa miasta",placeholder:"Nazwa miasta",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(lt.a,{})})},color:"secondary"}),Object(m.jsx)(ue.a,{id:"district",value:null!==(n=null===u||void 0===u?void 0:u.district)&&void 0!==n?n:"",onChange:b,sx:{m:1,width:"200px"},label:"Powiat",placeholder:"Powiat",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(lt.a,{})})},color:"secondary"})]}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(ue.a,(c={InputProps:{readOnly:!0},id:"province",value:null!==(o=null===u||void 0===u?void 0:u.province)&&void 0!==o?o:"dolno\u015bl\u0105skie",onChange:b,sx:{m:1,width:"200px"},label:"Wojew\xf3dztwo"},Object(de.a)(c,"InputProps",{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(lt.a,{})})}),Object(de.a)(c,"color","secondary"),c)),Object(m.jsx)(ue.a,{id:"commune",value:null!==(i=null===u||void 0===u?void 0:u.commune)&&void 0!==i?i:"",onChange:b,sx:{m:1,width:"200px"},label:"Gmina",placeholder:"Gmina",InputProps:{startAdornment:Object(m.jsx)(Ke.a,{position:"start",children:Object(m.jsx)(lt.a,{})})},color:"secondary"}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",onClick:p,disabled:!((null===u||void 0===u?void 0:u.name)&&(null===u||void 0===u?void 0:u.province)&&(null===u||void 0===u?void 0:u.district)&&(null===u||void 0===u?void 0:u.commune)),children:"Zapisz"})})]})]})})]})}function sn(){var e=Object(a.useState)(!1),t=Object(U.a)(e,2),n=t[0],c=t[1],i=o.a.useState(""),s=Object(U.a)(i,2),r=s[0],l=s[1],d=function(e){l(e);var t=new RegExp(e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),n=h.filter((function(e){return Object.keys(e).some((function(n){return t.test(e[n].toString())}))}));x(n)},j=Object(a.useState)([]),u=Object(U.a)(j,2),h=u[0],x=u[1];return Object(a.useEffect)((function(){fetch($).then((function(e){return e.json()})).then((function(e){return x(e)}))}),[]),o.a.useEffect((function(){x(h)}),[h]),Object(m.jsxs)(vt.a,{sx:{boxShadow:4,bgcolor:"background.paper",height:480,width:1},children:[Object(m.jsxs)(y.a,{sx:{borderRadius:"55px",m:1},type:"submit",color:"secondary",variant:"contained",onClick:function(){return c(!0)},children:[Object(m.jsx)(nt.a,{sx:{fontSize:25,mr:1}}),"Miasto"]}),Object(m.jsx)(cn,{openPopupTown:n,setOpenPopupTown:c}),Object(m.jsx)(Fe.a,{components:{Toolbar:Fe.b},rows:h,columns:[{field:"province",headerName:"Wojew\xf3dztwo",width:120},{field:"commune",headerName:"Gmina",width:120},{field:"district",headerName:"Powiat",width:100},{field:"townName",headerName:"Miasto",width:100},{field:"code",headerName:"Kod pocztowy",width:120},{field:"street",headerName:"Ulica",width:100},{field:"number",headerName:"Numer",width:70},{field:"userName",headerName:"Nazwa szko\u0142y",width:180},{field:"userEmail",headerName:"E-mail",width:160}],componentsProps:{toolbar:{value:r,onChange:function(e){return d(e.target.value)},clearSearch:function(){return d("")}}}})]})}function rn(){return Object(m.jsx)(E.a,{children:Object(m.jsx)(v.a,{sx:{mt:3},children:Object(m.jsx)(sn,{})})})}var ln=Object(F.a)({contc:{width:"auto",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px"},info:{width:"100%",height:"auto",display:"flex",flexDirection:"row",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px"},account:{width:"50%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center"}});function dn(){var e,t,n,o,c,i=ln(),s=Object(a.useState)([]),r=Object(U.a)(s,2),l=r[0],d=r[1],j=Object(a.useState)([]),u=Object(U.a)(j,2),h=u[0],x=u[1],b=Object(a.useState)({tableData:l,adressData:h}),p=Object(U.a)(b,2),f=p[0],O=p[1],w=Object(P.e)();Object(a.useEffect)((function(){fetch(M+"/".concat(w.state.id)).then((function(e){return e.json()})).then((function(e){return d(e)}))}),[]),Object(a.useEffect)((function(){fetch(V+"/".concat(w.state.id)).then((function(e){return e.json()})).then((function(e){return x(e)}))}),[]),Object(a.useEffect)((function(){l&&O(l)}),[l]),Object(a.useEffect)((function(){h&&O(h)}),[h]);var g=function(e){var t=e.target.id;O(Object(je.a)(Object(je.a)({},f),{},Object(de.a)({},t,e.target.value)))};function k(){window.location.reload()}var C=function(){var e=Object(le.a)(re.a.mark((function e(){var t,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={street:f.street,number:f.number,studentScore:f.studentScore,phone:f.phone},n={method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},fetch(M+"/".concat(w.state.id),n).then(k);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(E.a,{sx:{padding:2},children:Object(m.jsx)(v.a,{className:i.contc,p:1,sx:{boxShadow:5,border:2,borderColor:"#c5cae9"},children:Object(m.jsxs)(v.a,{className:i.info,children:[Object(m.jsxs)(v.a,{className:i.account,sx:{borderRight:2,borderColor:"#c5cae9"},children:[Object(m.jsx)(D.a,{alt:"szkola",src:"logo_szko\u0142a.png",sx:{width:200,height:180,m:3}}),Object(m.jsx)("h3",{children:l.fullName}),Object(m.jsx)("h5",{children:l.shortName})]}),Object(m.jsxs)(v.a,{sx:{m:3,width:"95%",height:"auto"},children:[Object(m.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(m.jsx)("h2",{children:"Tw\xf3j profil"}),Object(m.jsx)("p",{children:"Niek\xf3re z danych mo\u017cesz aktualizowa\u0107"})]}),Object(m.jsx)(v.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},children:Object(m.jsxs)(v.a,{children:[Object(m.jsxs)(v.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)(ue.a,{InputLabelProps:{shrink:!0},sx:{m:1,mt:2,width:"190px"},label:"Ulica",placeholder:"Ulica",color:"secondary",value:null===f||void 0===f?void 0:f.street,id:"street",onChange:g}),Object(m.jsx)(ue.a,{InputLabelProps:{shrink:!0},sx:{m:1,mt:2,width:"90px"},label:"Numer",placeholder:"Numer",color:"secondary",value:null===f||void 0===f?void 0:f.number,id:"number",onChange:g})]}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(ue.a,{disabled:!0,sx:{m:1,mt:2,width:"190px"},label:"Miasto",placeholder:"Miasto",color:"secondary",value:null!==(e=null===h||void 0===h?void 0:h.townName)&&void 0!==e?e:"",id:"townName"}),Object(m.jsx)(Qe.a,{mask:"99-999",value:null!==(t=null===h||void 0===h?void 0:h.code)&&void 0!==t?t:"",disabled:!0,maskChar:" ",onChange:g,children:function(){var e;return Object(m.jsx)(ue.a,{disabled:!0,sx:{m:1,mt:2,width:"90px"},label:"Kod",placeholder:"Kod",color:"secondary",value:null!==(e=null===h||void 0===h?void 0:h.code)&&void 0!==e?e:"",id:"code"})}})]}),Object(m.jsx)(v.a,{children:Object(m.jsx)(ue.a,{InputLabelProps:{shrink:!0},sx:{m:1,mt:2,width:"300px"},label:"Ilo\u015b\u0107 uczni\xf3w",placeholder:"Ilo\u015b\u0107 uczni\xf3w",color:"secondary",value:null===f||void 0===f?void 0:f.studentScore,id:"studentScore",onChange:g})})]}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(ue.a,{disabled:!0,sx:{m:1,mt:2,width:"250px"},label:"Wojew\xf3dztwo",placeholder:"Wojew\xf3dztwo",color:"secondary",value:null!==(n=null===h||void 0===h?void 0:h.province)&&void 0!==n?n:"",id:"province"}),Object(m.jsx)(ue.a,{disabled:!0,sx:{m:1,mt:2,width:"250px"},label:"Gmina",placeholder:"Gmina",color:"secondary",value:null!==(o=null===h||void 0===h?void 0:h.district)&&void 0!==o?o:"",id:"district"}),Object(m.jsx)(ue.a,{disabled:!0,sx:{m:1,mt:2,width:"250px"},label:"Powiat",placeholder:"Powiat",color:"secondary",value:null!==(c=null===h||void 0===h?void 0:h.commune)&&void 0!==c?c:"",id:"commune"})]})]}),Object(m.jsx)("h5",{children:"Dane kontaktowe"}),Object(m.jsxs)(v.a,{children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)(ue.a,{disabled:!0,sx:{m:1,mt:2,width:"300px"},label:"Adres e-mail",placeholder:"Adres e-mail",color:"secondary",defaultValue:"nazwa uzytkownika",value:null===l||void 0===l?void 0:l.email,id:"fullName"}),Object(m.jsx)(Qe.a,{mask:"999999999",value:null===f||void 0===f?void 0:f.phone,disabled:!1,maskChar:" ",onChange:g,children:function(){return Object(m.jsx)(ue.a,{InputLabelProps:{shrink:!0},sx:{m:1,mt:2,width:"300px"},label:"Numer telefonu",placeholder:"Numer telefonu",color:"secondary",id:"phone"})}})]}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"150px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",onClick:C,children:"Zapisz zmiany"})})]})]})})]})]})})})}var jn=Object(F.a)({contc:{width:"auto",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px"},info:{width:"100%",height:"auto",display:"flex",flexDirection:"column"}});function un(){var e=jn(),t=Object(a.useState)([]),n=Object(U.a)(t,2),o=(n[0],n[1]);Object(a.useEffect)((function(){fetch(q).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]);var c=Object(a.useState)({password:"",showPassword:!1}),i=Object(U.a)(c,2),s=i[0],r=i[1],l=function(e){return function(t){r(Object(je.a)(Object(je.a)({},s),{},Object(de.a)({},e,t.target.value)))}},d=function(){r(Object(je.a)(Object(je.a)({},s),{},{showPassword:!s.showPassword}))},j=function(e){e.preventDefault()};return Object(m.jsx)(E.a,{sx:{padding:0},children:Object(m.jsxs)(v.a,{className:e.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"#c5cae9"},children:[Object(m.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",borderBottom:2,borderColor:"#c5cae9"},children:[Object(m.jsx)("h2",{children:"Zmie\u0144 has\u0142o"}),Object(m.jsx)("p",{children:"Potwierd\u017a stare has\u0142o i wprowad\u017a nowe"})]}),Object(m.jsxs)(v.a,{className:e.info,children:[Object(m.jsx)(v.a,{sx:{m:3},children:Object(m.jsx)(ue.a,{id:"currentPassword",sx:{m:1,width:"350px"},label:"Aktualne has\u0142o",type:s.showPassword1?"text":"password",value:s.password1,onChange:l("password"),InputProps:{endAdornment:Object(m.jsx)(Ke.a,{position:"end",children:Object(m.jsx)(It.a,{"aria-label":"toggle password visibility",onClick:d,onMouseDown:j,edge:"end",children:s.showPassword1?Object(m.jsx)(Wt.a,{}):Object(m.jsx)(At.a,{})})})},color:"secondary"})}),Object(m.jsx)(v.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(m.jsxs)(v.a,{children:[Object(m.jsx)(ue.a,{id:"newPassword",sx:{m:1,width:"350px"},label:"Nowe has\u0142o",type:s.showPassword2?"text":"password",value:s.password2,onChange:l("password"),InputProps:{endAdornment:Object(m.jsx)(Ke.a,{position:"end",children:Object(m.jsx)(It.a,{"aria-label":"toggle password visibility",onClick:d,onMouseDown:j,edge:"end",children:s.showPassword2?Object(m.jsx)(Wt.a,{}):Object(m.jsx)(At.a,{})})})},color:"secondary"}),Object(m.jsx)(ue.a,{id:"confirmNewPassword",sx:{m:1,width:"350px"},label:"Powt\xf3rz nowe has\u0142o",type:s.showPassword3?"text":"password",value:s.password3,onChange:l("password3"),InputProps:{endAdornment:Object(m.jsx)(Ke.a,{position:"end",children:Object(m.jsx)(It.a,{"aria-label":"toggle password visibility",onClick:d,onMouseDown:j,edge:"end",children:s.showPassword3?Object(m.jsx)(Wt.a,{}):Object(m.jsx)(At.a,{})})})},color:"secondary"})]})}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"150px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",children:"Zmie\u0144"})})]})]})})}var hn=Object(F.a)({mess:{display:"flex",direction:"column",flexFlow:"stretch",background:"white"},hist:{display:"flex",direction:"row",flexFlow:"stretch",background:"white"}});function xn(e){var t=hn(),n=Object(P.g)(e).id;return Object(m.jsx)(E.a,{children:Object(m.jsxs)(v.a,{children:[Object(m.jsx)(v.a,{className:t.hist,children:Object(m.jsx)(dn,{id:n})}),Object(m.jsx)(v.a,{className:t.hist,children:Object(m.jsx)(un,{id:n})})]})})}var bn=Object(F.a)({contc:{width:"900px",height:"500px",display:"flex",flexDirection:"row",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px",flexWrap:"wrap",background:"white"},info:{width:"100%",height:"auto",display:"flex"},account:{width:"90%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",flexWrap:"wrap"}});function pn(){var e=bn(),t=Object(P.f)(),n=Object(a.useState)({password:"",email:"",showPassword:!1}),o=Object(U.a)(n,2),c=o[0],i=o[1],s=function(e){return function(t){i(Object(je.a)(Object(je.a)({},c),{},Object(de.a)({},e,t.target.value)))}},r=function(){var e=Object(le.a)(re.a.mark((function e(){var n,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={email:c.email,password:c.password},a={method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},fetch(L,a).then((function(e){return e.json()})).then((function(e){e&&t("/home",{state:{id:e.id,role:e.roleName}})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(c.password,"has\u0142o"),Object(m.jsx)(E.a,{sx:{padding:2},children:Object(m.jsx)(v.a,{className:e.contc,p:1,sx:{boxShadow:5,border:2,borderColor:"#689f38"},children:Object(m.jsxs)(v.a,{className:e.info,children:[Object(m.jsxs)(v.a,{className:e.account,sx:{borderRight:2,borderColor:"#c5cae9"},children:[Object(m.jsx)(D.a,{alt:"szkola",src:"Kleks_logo.png",sx:{width:200,height:180,m:3}}),Object(m.jsx)("h3",{children:"Witaj w CommunityApp"})]}),Object(m.jsxs)(v.a,{sx:{m:3,width:"95%",height:"auto"},children:[Object(m.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(m.jsx)("h2",{children:"Zaloguj si\u0119"}),Object(m.jsx)("p",{children:"Podaj sw\xf3j adres email oraz has\u0142o"})]}),Object(m.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(m.jsx)(ue.a,{sx:{m:1,mt:2,width:"350px"},label:"E-mail",placeholder:"E-mail",color:"secondary",id:"email",value:c.email,onChange:s("email")}),Object(m.jsx)(ue.a,{id:"currentPassword",sx:{m:1,width:"350px"},label:"Has\u0142o",type:c.showPassword?"text":"password",value:c.password,onChange:s("password"),InputProps:{endAdornment:Object(m.jsx)(Ke.a,{position:"end",children:Object(m.jsx)(It.a,{"aria-label":"toggle password visibility",onClick:function(){i(Object(je.a)(Object(je.a)({},c),{},{showPassword:!c.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:c.showPassword?Object(m.jsx)(Wt.a,{}):Object(m.jsx)(At.a,{})})})},color:"secondary"})]}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"150px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",onClick:r,children:"Zaloguj"})})]})]})})})}function fn(){return Object(m.jsx)(E.a,{sx:{mt:3},children:Object(m.jsx)(pn,{})})}var On=n(399),mn=n(247),wn=n(417),vn=Object(mn.a)({palette:{primary:{main:On.a[100]},secondary:{main:"#689f38"},background:{paper:"#fff",default:"#9ccc65"},action:{hover:"#c5e1a5"}},typography:{fontFamily:"Merriweather",fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600,fontWeightBold:700,h6:{fontSize:"15px",fontWeight:200}}});var yn=function(){var e=function(){return Object(m.jsx)(W,{children:Object(m.jsxs)(P.c,{children:[Object(m.jsx)(P.a,{path:"/home",element:Object(m.jsx)(ie,{})}),Object(m.jsx)(P.a,{path:"/users",element:Object(m.jsx)(an,{})}),Object(m.jsx)(P.a,{path:"/delivery",element:Object(m.jsx)(it,{})}),Object(m.jsx)(P.a,{path:"/files",element:Object(m.jsx)(wt,{})}),Object(m.jsx)(P.a,{path:"/adresses",element:Object(m.jsx)(rn,{})}),Object(m.jsx)(P.a,{path:"/contacts",element:Object(m.jsx)(We,{})}),Object(m.jsx)(P.a,{path:"/settings",element:Object(m.jsx)(xn,{})})]})})};return Object(m.jsx)(wn.a,{theme:vn,children:Object(m.jsx)(R.a,{children:Object(m.jsxs)(P.c,{children:[Object(m.jsx)(P.a,{path:"/login",element:Object(m.jsx)(fn,{})}),Object(m.jsx)(P.a,{path:"*",element:Object(m.jsx)(e,{})})]})})})},gn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,419)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),c(e),i(e)}))};i.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(yn,{})}),document.getElementById("root")),gn()}},[[318,1,2]]]);
//# sourceMappingURL=main.3aa57eb4.chunk.js.map