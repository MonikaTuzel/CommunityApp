(this["webpackJsonpcommunity-app"]=this["webpackJsonpcommunity-app"]||[]).push([[0],{292:function(e,t,n){},318:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(45),i=n.n(c),r=(n(292),n(215)),s=n.n(r),l=n(221),d=n.n(l),j=n(222),u=n.n(j),h=n(223),x=n.n(h),b=n(224),p=n.n(b),f=n(225),O=n.n(f),m=n(1),w=[{title:"U\u017cytkownicy",path:"/users",icon:Object(m.jsx)(s.a,{color:"secondary"}),text:"U\u017cytkownicy"},{title:"Dokumenty",path:"/files",icon:Object(m.jsx)(d.a,{color:"secondary"})},{title:"Dostawy",path:"/delivery",icon:Object(m.jsx)(u.a,{color:"secondary"})},{title:"Adresy",path:"/adresses",icon:Object(m.jsx)(x.a,{color:"secondary"})},{title:"Wiadomo\u015bci",path:"/contacts",icon:Object(m.jsx)(p.a,{color:"secondary"})},{title:"Ustawienia",path:"/settings",icon:Object(m.jsx)(O.a,{color:"secondary"})}],v=n(137),y=n(56),g=n(410),k=n(388),C=n(174),N=n(385),S=n(401),P=n(30),I=n(408),z=n(409),D=n(406),A=n(248),T=Object(N.a)((function(e){return{page:{background:"#f9f9f9",width:"100%"},drawer:{width:200},drawerPaper:{},root:{display:"flex"},active:{background:"#aed581",borderRadius:"15px"},tlo:{margin:10,marginLeft:0},logo:{display:"flex",justifyContent:"center",marginTop:15},toolbar:e.mixins.toolbar,date:{flexGrow:1}}}));function W(e){var t=e.children,n=T(),a=Object(P.f)(),o=Object(P.e)();return console.log(o.state,"location"),Object(m.jsxs)("div",{className:n.root,children:[Object(m.jsx)(I.a,{sx:{width:"calc(100% - ".concat(200,"px)"),backgroundColor:"white"},children:Object(m.jsxs)(z.a,{sx:{display:"flex",justifyContent:"space-around"},children:[Object(m.jsxs)(v.a,{children:["Dzisiejsza data: ",Object(A.a)(new Date,"d MM Y")]}),Object(m.jsx)(v.a,{children:Object(m.jsx)(y.a,{onClick:function(){return a("/settings",{state:o.state})},children:Object(m.jsx)(D.a,{alt:"szkola",src:"logo_szko\u0142a.png",sx:{width:50,height:50}})})}),Object(m.jsx)(v.a,{children:Object(m.jsx)(y.a,{color:"secondary",onClick:function(){return a("/login")},children:"Wyloguj!"})})]})}),Object(m.jsxs)(S.a,{className:n.drawer,variant:"permanent",anchor:"left",classes:{paper:n.drawerPaper},children:[Object(m.jsx)("div",{children:Object(m.jsx)(v.a,{variant:"h5",className:n.logo,children:Object(m.jsx)(y.a,{onClick:function(){return a("/home",{state:o.state})},children:Object(m.jsx)("img",{src:"Kleks_logo.png",alt:"kleks",style:{width:100}})})})}),Object(m.jsx)("div",{className:n.tlo,children:Object(m.jsx)(g.a,{children:w.map((function(e){return"Szkola"!=o.state.role||"/users"!=e.path&&"/adresses"!=e.path?Object(m.jsx)(v.a,{className:o.pathname==e.path?n.active:n.unactive,sx:{display:"flex",width:180,m:1,borderRadius:"15px","&:hover":{borderRadius:"15px"}},children:Object(m.jsxs)(k.a,{onClick:function(){return a(e.path,{state:o.state})},children:[Object(m.jsx)(C.a,{children:e.icon}),Object(m.jsxs)(v.a,{variant:"h6",children:[" ",e.title]})]},e.title)}):null}))})})]}),Object(m.jsxs)("div",{className:n.page,children:[Object(m.jsx)("div",{className:n.toolbar}),t]})]})}var R=n(411),E=n(5),U=n(402),F=" https://4d1e-31-60-36-106.ngrok.io/users",M=" https://4d1e-31-60-36-106.ngrok.io/users/account/login",L=" https://4d1e-31-60-36-106.ngrok.io/users/account/register",J=" https://4d1e-31-60-36-106.ngrok.io/message",Z=" https://4d1e-31-60-36-106.ngrok.io/message/send",G=" https://4d1e-31-60-36-106.ngrok.io/message/read",B=" https://4d1e-31-60-36-106.ngrok.io/message/reply",K=" https://4d1e-31-60-36-106.ngrok.io/towns",_=" https://4d1e-31-60-36-106.ngrok.io/contacts/AddNewTown",H=" https://4d1e-31-60-36-106.ngrok.io/contacts",V=" https://4d1e-31-60-36-106.ngrok.io/addresses_browse",$=" https://4d1e-31-60-36-106.ngrok.io/delivery",Y=" https://4d1e-31-60-36-106.ngrok.io/delivery",q=" https://4d1e-31-60-36-106.ngrok.io/delivery/history",Q=" https://4d1e-31-60-36-106.ngrok.io/delivery/create",X=" https://4d1e-31-60-36-106.ngrok.io/files/browse",ee=" https://4d1e-31-60-36-106.ngrok.io/files/download",te=" https://4d1e-31-60-36-106.ngrok.io/files/newUpload",ne=" https://4d1e-31-60-36-106.ngrok.io/files/upload",ae=Object(U.a)({info:{width:"100%",height:"auto",display:"flex",flexDirection:"row",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px",background:"white"},account:{width:"50%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center"}});function oe(){var e=ae(),t=Object(a.useState)([]),n=Object(E.a)(t,2),o=n[0],c=n[1],i=Object(P.e)();return Object(a.useEffect)((function(){fetch(F+"/".concat(i.state.id)).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]),console.log(i.state,"HP"),Object(m.jsx)(R.a,{sx:{padding:2},children:Object(m.jsxs)(v.a,{className:e.info,children:[Object(m.jsx)(v.a,{className:e.account,sx:{borderRight:2,borderColor:"#c5cae9"},children:Object(m.jsx)("img",{src:"mleko.jpg",alt:"mleko",style:{width:400}})}),Object(m.jsxs)(v.a,{sx:{m:3,width:"95%",height:"auto"},children:[Object(m.jsx)("h1",{children:"Witaj!"}),Object(m.jsxs)("h3",{children:["Jeste\u015b zalogowany jako u\u017cytkownik: ",o.fullName," "]})]})]})})}function ce(e){var t=e.props,n=Object(P.g)(t).id;return console.log(n,"props"),Object(m.jsx)(R.a,{children:Object(m.jsx)(v.a,{sx:{mt:3},children:Object(m.jsx)(oe,{id:n})})})}var ie=n(13),re=n.n(ie),se=n(25),le=n(3),de=n(24),je=n(77),ue=n(403),he=Object(U.a)({contc:{width:"350px",height:"480px",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px",flexWrap:"wrap"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",flexWrap:"wrap"}});function xe(){var e,t,n=he(),o=Object(a.useState)([]),c=Object(E.a)(o,2),i=c[0],r=c[1],s=Object(a.useState)(i[0]),l=Object(E.a)(s,2),d=l[0],j=(l[1],Object(P.e)()),u=Object(a.useState)({senderId:j.state.id}),h=Object(E.a)(u,2),x=h[0],b=h[1];Object(a.useEffect)((function(){fetch(F).then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]);var p=function(e,t){var n,a=e.target.id;a.includes("clear-on-escape-option")&&(a="userId"),b(Object(de.a)(Object(de.a)({},x),{},Object(le.a)({},a,null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:e.target.value)))},f=function(){var e=Object(se.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"POST",body:JSON.stringify(x),headers:{"Content-Type":"application/json"}},fetch(Z,t).then((function(){b({userId:x.userId})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(x,"newMessage"),Object(m.jsx)(R.a,{sx:{padding:3},children:Object(m.jsxs)(v.a,{className:n.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"#c5cae9"},children:[Object(m.jsx)(v.a,{variant:"h5",color:"#e8eaf6",component:"h2",align:"center",sx:{borderRadius:"15px",boxShadow:5,background:"#689f38",width:"80%"},children:"Wy\u015blij wiadomo\u015b\u0107"}),Object(m.jsx)(v.a,{className:n.autocom,children:Object(m.jsx)(ue.a,{value:d,id:"clear-on-escape",clearOnEscape:!0,options:i,getOptionLabel:function(e){return e.fullName},sx:{width:280},onChange:p,renderInput:function(e){return Object(m.jsx)(je.a,Object(de.a)(Object(de.a)({helperText:"Wybierz u\u017cytkownika z listy"},e),{},{label:"Nadawca",variant:"standard"}))}})}),Object(m.jsx)(v.a,{children:Object(m.jsx)(je.a,{id:"topic",value:null!==(e=null===x||void 0===x?void 0:x.topic)&&void 0!==e?e:"",sx:{m:1,width:"280px"},label:"Temat wiadomo\u015bci",multiline:!0,rows:2,placeholder:"Temat",variant:"standard",color:"secondary",onChange:p})}),Object(m.jsx)(v.a,{children:Object(m.jsx)(je.a,{id:"contents",value:null!==(t=null===x||void 0===x?void 0:x.contents)&&void 0!==t?t:"",sx:{m:1,width:"280px"},multiline:!0,rows:4,label:"Wiadomo\u015b\u0107...",helperText:"Prosz\u0119 wpisa\u0107 tre\u015b\u0107 wiadomo\u015bci",variant:"outlined",onChange:p})}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px"},type:"submit",color:"secondary",variant:"contained",onClick:f,disabled:!(x.userId&&x.topic&&x.contents),children:"Wy\u015blij"})})]})})}var be=n(405),pe=n(396),fe=n(234),Oe=n.n(fe),me=n(413),we=n(395),ve=n(414),ye=n(415),ge=n(233),ke=n.n(ge),Ce=n(232),Ne=n.n(Ce),Se=Object(U.a)({contc:{width:"550px",height:"300px",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",border:1,borderRadius:"15px",borderColor:"#7986cb"},tekstbox:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"}});function Pe(e){var t=Se(),n=e.date,o=e.messageId,c=e.userName,i=e.topic,r=e.content,s=e.openPopupMess,l=e.setOpenPopupMess,d=Object(a.useState)({messageId:o,senderName:"Szkola Podstawowa nr 12",topic:i,content:r}),j=Object(E.a)(d,2),u=j[0],h=j[1];function x(){window.location.reload()}var b=function(e,t){var n,a=e.target.id;a.includes("clear-on-escape-option")&&(a="userId"),h(Object(de.a)(Object(de.a)({},u),{},Object(le.a)({},a,null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:e.target.value)))},p=function(){var e=Object(se.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json"}},fetch(B,t).then(x);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(me.a,{open:s,children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:function(){l(!1)},children:"Anuluj"}),Object(m.jsx)(we.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsxs)("h2",{children:[" Odpowiedz na wiadomo\u015b\u0107 od u\u017cytkownika:  ",c," "]})})}),Object(m.jsx)(ve.a,{sx:{display:"flex",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsxs)(v.a,{className:t.contc,p:1,sx:{boxShadow:3},children:[Object(m.jsx)(v.a,{children:Object(m.jsx)(je.a,{id:"topic",value:"Re: "+i,sx:{m:1,width:"500px"},label:"Temat wiadomo\u015bci",multiline:!0,rows:2,color:"secondary",onChange:b})}),Object(m.jsx)(v.a,{children:Object(m.jsx)(je.a,{id:"contents",value:null===u||void 0===u?void 0:u.contents,sx:{m:1,width:"500px"},multiline:!0,rows:5,label:"Wiadomo\u015b\u0107...",defaultValue:"\n------\nDnia: "+n+",U\u017cytkownik "+c+" napisa\u0142: "+r,onChange:b})}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px"},type:"submit",color:"secondary",variant:"contained",onClick:p,children:"Wy\u015blij"})})]})})})]})}function Ie(e){var t=e.openPopup,n=e.setOpenPopup,c=e.message,i=Object(a.useState)(!1),r=Object(E.a)(i,2),s=r[0],l=r[1],d=function(){n(!1),window.location.reload()};function j(){window.location.reload()}var u=o.a.useCallback((function(e){return function(){fetch(J+"/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(){d()})).then(j),console.log(e,"deleteMessage")}}),[]);return Object(m.jsxs)(me.a,{open:t,children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:d,children:"Zamknij"}),Object(m.jsx)(we.a,{children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("h3",{children:[" Wiadomo\u015b\u0107 od u\u017cytkownika:  ",null===c||void 0===c?void 0:c.senderName," "]}),Object(m.jsxs)("h4",{children:["Temat: ",null===c||void 0===c?void 0:c.topic," "]}),Object(m.jsxs)("h6",{children:["Data nadania: ",null===c||void 0===c?void 0:c.date," "]})]})}),Object(m.jsx)(ve.a,{children:null===c||void 0===c?void 0:c.contents}),Object(m.jsxs)(ye.a,{children:[Object(m.jsx)(y.a,{sx:{width:"150px",height:"35px"},color:"secondary",variant:"outlined",startIcon:Object(m.jsx)(Ne.a,{}),onClick:Object(se.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(c);case 2:case"end":return e.stop()}}),e)}))),children:"Odpowiedz"}),Object(m.jsx)(y.a,{sx:{width:"150px",height:"35px"},color:"secondary",variant:"outlined",onClick:u(null===c||void 0===c?void 0:c.id),startIcon:Object(m.jsx)(ke.a,{}),children:"Usu\u0144"})]}),Object(m.jsx)(Pe,{date:null===c||void 0===c?void 0:c.date,messageId:null===c||void 0===c?void 0:c.id,userId:null===c||void 0===c?void 0:c.userId,userName:null===c||void 0===c?void 0:c.senderName,topic:null===c||void 0===c?void 0:c.topic,content:null===c||void 0===c?void 0:c.contents,openPopupMess:s,setOpenPopupMess:l})]})}var ze=Object(U.a)({contc:{width:"auto",height:"480px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",textAlign:"center",borderRadius:"15px",flexWrap:"wrap"},mess:{width:"auto",height:"auto",bgcolor:"background.paper",position:"relative",overflow:"auto",maxHeight:400,"& ul":{padding:0},flexWrap:"wrap"}});function De(){var e=ze(),t=Object(a.useState)([]),n=Object(E.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(),s=Object(E.a)(r,2),l=s[0],d=s[1],j=Object(a.useState)(!1),u=Object(E.a)(j,2),h=u[0],x=u[1],b=Object(P.e)();Object(a.useEffect)((function(){fetch(J+"/".concat(b.state.id)).then((function(e){return e.json()})).then((function(e){return i(e)})).then((function(e){return console.log(e)}))}),[]);var p=function(){var e=Object(se.a)(re.a.mark((function e(t){var n,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.find((function(e){return e.id==t})),a={method:"PUT",body:JSON.stringify(),headers:{"Content-Type":"application/json"}},fetch(G+"/".concat(t),a),d(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(se.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.find((function(e){return e.id==t})),d(n),console.log(n,"element");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(R.a,{sx:{padding:3},children:Object(m.jsxs)(v.a,{className:e.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"#c5cae9"},children:[Object(m.jsx)(v.a,{variant:"h5",color:"#e8eaf6",component:"h2",align:"center",sx:{borderRadius:"15px",boxShadow:5,background:"#689f38",width:"80%"},children:"Twoje wiadomo\u015bci"}),Object(m.jsx)(Ie,{openPopup:h,setOpenPopup:x,message:l}),Object(m.jsx)(v.a,{sx:{height:"400px",width:"580px",boxShadow:3},children:Object(m.jsx)(g.a,{dense:!0,className:e.mess,children:c.map((function(e){return Object(m.jsx)(be.a,{sx:{height:"80px",width:"550px",boxShadow:2,border:1,borderRadius:"15px",borderColor:"#e1f5fe",m:1},disablePadding:!0,children:Object(m.jsx)(k.a,{style:{borderRadius:"15px",background:"Nieprzeczytane"==e.statusName?"#ccff90":null},onClick:Object(se.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e.id).then((function(){x(!0),"Nieprzeczytane"==e.statusName&&p(e.id)}));case 2:case"end":return t.stop()}}),t)}))),children:Object(m.jsxs)(be.a,{alignItems:"flex-start",children:[Object(m.jsx)(C.a,{children:Object(m.jsx)(Oe.a,{color:"secondary",sx:{fontSize:"xx-large"}})}),Object(m.jsx)(pe.a,{primary:e.topic,secondary:Object(m.jsx)(o.a.Fragment,{children:Object(m.jsxs)(v.a,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:["Nadawca: ",e.senderName]})})},e.Id)]})})})}))})})]})})}var Ae=Object(U.a)({mess:{display:"flex",direction:"row",flexFlow:"stretch",background:"white"}});function Te(e){var t=e.props,n=Ae(),a=Object(P.g)(t).id;return Object(m.jsx)(R.a,{children:Object(m.jsxs)(v.a,{className:n.mess,sx:{mt:3},children:[Object(m.jsx)(De,{id:a}),Object(m.jsx)(xe,{id:a})]})})}var We=n(88),Re=n.n(We),Ee=n(71),Ue=n(57),Fe=Object(U.a)({contc:{width:"auto",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"},tekstbox:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"flex-start"}});function Me(e){var t,n=Fe(),o=e.openPopupDelivery,c=e.setOpenPopupDelivery,i=e.delivery,r=Object(a.useState)(),s=Object(E.a)(r,2),l=(s[0],s[1],Object(P.e)()),d=function(){c(!1)};function j(){window.location.reload()}var u=function(){var e=Object(se.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={method:"PUT",body:JSON.stringify(),headers:{"Content-Type":"application/json"}},fetch($+"/".concat(t),n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(me.a,{open:o,fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:d,children:"Anuluj"}),Object(m.jsx)(we.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Szczeg\xf3\u0142y dostawy"})})}),Object(m.jsx)(ve.a,{sx:{display:"flex",justifyContent:"center",textAlign:"center"},children:Object(m.jsxs)(v.a,{className:n.contc,p:1,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsxs)("p",{children:["Nazwa u\u017cytkownika: ",null===i||void 0===i?void 0:i.userName]}),Object(m.jsxs)("p",{children:["Ilo\u015b\u0107 uczni\xf3w: ",null===i||void 0===i?void 0:i.studentScore," "]}),Object(m.jsxs)("p",{children:["Termin dostawy: ",null===i||void 0===i?void 0:i.deliveryDate," "]}),Object(m.jsxs)("p",{children:["Rok szkolny: ",null===i||void 0===i?void 0:i.year," "]}),Object(m.jsxs)("p",{children:["Semestr: ",null===i||void 0===i?void 0:i.semestr," "]}),Object(m.jsxs)("p",{children:["Tydzie\u0144: ",null===i||void 0===i?void 0:i.week," "]}),Object(m.jsxs)("p",{children:["Opis: ",null===i||void 0===i?void 0:i.description," "]}),Object(m.jsxs)("p",{children:["Ostatnia aktualizacja: ",null===i||void 0===i?void 0:i.updateDate," "]}),Object(m.jsxs)("p",{children:["Status: ",null===i||void 0===i?void 0:i.statusName," "]})]}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,(t={sx:{width:"130px",height:"30px"},type:"submit",color:"secondary",variant:"contained",disabled:"Zrealizowano"==(null===i||void 0===i?void 0:i.statusName)},Object(le.a)(t,"disabled",!function(){if("Admin"===l.state.role)return 1}()),Object(le.a)(t,"onClick",Object(se.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(null===i||void 0===i?void 0:i.id).then((function(){d()})).then(j);case 2:case"end":return e.stop()}}),e)})))),Object(le.a)(t,"children","Zrealizowano"),t))})]})})]})}var Le=Object(U.a)({contc:{width:"auto",minWidth:"500px",height:"300px",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",width:"auto",minWidth:"470px",height:"220px",borderRadius:"15px"}});function Je(){var e=Object(a.useState)([]),t=Object(E.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)([]),i=Object(E.a)(c,2),r=(i[0],i[1],Le()),s=Object(a.useState)(),l=Object(E.a)(s,2),d=l[0],j=l[1],u=Object(a.useState)(!1),h=Object(E.a)(u,2),x=h[0],b=h[1],p=Object(P.e)();Object(a.useEffect)((function(){"Szkola"===p.state.role&&fetch(Y+"/future/".concat(p.state.id)).then((function(e){return e.json()})).then((function(e){return o(e)})),"Admin"===p.state.role&&fetch(Y+"/future").then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]);var f=function(){var e=Object(se.a)(re.a.mark((function e(t){var a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.find((function(e){return e.id==t})),j(a),console.log(a,"elementFuture");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=[{field:"deliveryDate",headerName:"Data",width:150},{field:"userName",headerName:"Nazwa",width:150},{field:"studentScore",headerName:"Ilo\u015b\u0107",width:80},{field:"actions",type:"actions",width:30,headerName:"I",cellClassName:"actions",getActions:function(e){return[Object(m.jsx)(Ee.a,{icon:Object(m.jsx)(Re.a,{}),label:"Info",onClick:Object(se.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e.id).then((function(){b(!0)}));case 2:case"end":return t.stop()}}),t)}))),color:"inherit"})]}}];return Object(m.jsx)(R.a,{sx:{padding:3},children:Object(m.jsxs)(v.a,{className:r.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"#c5cae9"},children:[Object(m.jsx)(v.a,{variant:"h5",color:"#e8eaf6",component:"h2",align:"center",sx:{borderRadius:"15px",boxShadow:5,background:"#689f38",width:"80%"},children:"Planowane dostawy"}),Object(m.jsx)(v.a,{className:r.autocom,sx:{boxShadow:3},children:Object(m.jsx)(Ue.a,{rows:n,columns:O})}),Object(m.jsx)(Me,{openPopupDelivery:x,setOpenPopupDelivery:b,delivery:d})]})})}var Ze=Object(U.a)({contc:{width:"auto",minWidth:"500px",height:"300px",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",width:"auto",minWidth:"470px",height:"220px",borderRadius:"15px"}});function Ge(){var e=Object(a.useState)([]),t=Object(E.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)([]),i=Object(E.a)(c,2),r=(i[0],i[1],Ze()),s=Object(a.useState)([]),l=Object(E.a)(s,2),d=l[0],j=l[1],u=Object(a.useState)(!1),h=Object(E.a)(u,2),x=h[0],b=h[1],p=Object(P.e)();Object(a.useEffect)((function(){"Szkola"===p.state.role&&fetch(q+"/".concat(p.state.id)).then((function(e){return e.json()})).then((function(e){return o(e)})),"Admin"===p.state.role&&fetch(q).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]);var f=function(){var e=Object(se.a)(re.a.mark((function e(t){var a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.find((function(e){return e.id==t})),j(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=[{field:"deliveryDate",headerName:"Data",width:150},{field:"userName",headerName:"Nazwa",width:150},{field:"studentScore",headerName:"Ilo\u015b\u0107",width:80},{field:"actions",type:"actions",width:30,headerName:"I",cellClassName:"actions",getActions:function(e){return[Object(m.jsx)(Ee.a,{icon:Object(m.jsx)(Re.a,{}),label:"Info",color:"inherit",onClick:Object(se.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e.id).then((function(){b(!0)}));case 2:case"end":return t.stop()}}),t)})))})]}}];return Object(m.jsx)(R.a,{sx:{padding:3},children:Object(m.jsxs)(v.a,{className:r.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"#c5cae9"},children:[Object(m.jsx)(v.a,{variant:"h5",color:"#e8eaf6",component:"h2",align:"center",sx:{borderRadius:"15px",boxShadow:5,background:"#689f38",width:"80%"},children:"Historia dostaw"}),Object(m.jsx)(v.a,{className:r.autocom,sx:{boxShadow:3},children:Object(m.jsx)(Ue.a,{rows:n,columns:O})}),Object(m.jsx)(Me,{openPopupDelivery:x,setOpenPopupDelivery:b,delivery:d})]})})}var Be=n(416),Ke=n(136),_e=n.n(Ke),He=n(398),Ve=n(400),$e=n(397),Ye=n(72),qe=n.n(Ye),Qe=Object(U.a)({contc:{width:"900px",height:"auto",display:"flex",flexDirection:"row",justifyContent:"center",border:1,borderRadius:"15px",borderColor:"#7986cb"}});function Xe(e){var t=Qe(),n=e.openPopupAddDelivery,o=e.setOpenPopupAddDelivery,c=Object(a.useState)([]),i=Object(E.a)(c,2),r=i[0],s=i[1],l=Object(a.useState)(r[0]),d=Object(E.a)(l,2),j=d[0],u=(d[1],Object(a.useState)()),h=Object(E.a)(u,2),x=h[0],b=h[1];Object(P.e)();Object(a.useEffect)((function(){fetch(F).then((function(e){return e.json()})).then((function(e){return s(e)}))}),[]);var p=function(){o(!1)},f=function(e,t){var n,a=e.target.id;a.includes("clear-on-escape-option")&&(a="userId"),b(Object(de.a)(Object(de.a)({},x),{},Object(le.a)({},a,null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:e.target.value)))};function O(){window.location.reload()}var w=function(){var e=Object(se.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"POST",body:JSON.stringify(x),headers:{"Content-Type":"application/json"}},fetch(Q,t).then(p()).then(O);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(x,"newDelivery"),Object(m.jsxs)(me.a,{open:n,fullWidth:!0,maxWidth:"lg",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:p,children:"Anuluj"}),Object(m.jsx)(we.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Dodaj now\u0105 dostaw\u0119 "})})}),Object(m.jsx)(ve.a,{sx:{display:"flex",justifyContent:"center",textAlign:"center"},children:Object(m.jsxs)(v.a,{component:"span",className:t.contc,p:1,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{component:"span",children:[Object(m.jsx)(ue.a,{id:"clear-on-escape",value:j,noOptionsText:"Nie ma takiego u\u017cytkownika",clearOnEscape:!0,options:r,getOptionLabel:function(e){return e.fullName},sx:{m:1.5,width:350},onChange:f,renderInput:function(e){return Object(m.jsx)(je.a,Object(de.a)(Object(de.a)({},e),{},{label:"Nazwa szko\u0142y"}))}}),Object(m.jsx)($e.a,{dateAdapter:Ve.a,children:Object(m.jsx)(He.a,{spacing:3,sx:{m:1.5,width:"350px"},children:Object(m.jsx)("input",{type:"date",id:"deliveryDate",name:"deliveryDate",onChange:f})})}),Object(m.jsx)(je.a,{id:"description",value:null===x||void 0===x?void 0:x.description,onChange:f,sx:{m:1.5,width:"350px"},label:"Uwagi",placeholder:"Uwagi",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(_e.a,{})})},color:"secondary"})]}),Object(m.jsxs)(v.a,{component:"span",children:[Object(m.jsx)(qe.a,{mask:"9999/9999",value:null===x||void 0===x?void 0:x.year,maskChar:" ",onChange:f,children:function(){return Object(m.jsx)(je.a,{id:"year",sx:{m:1.5,width:"350px"},label:"Rok szkolny",placeholder:"Rok szkolny",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(_e.a,{})})},color:"secondary"})}}),Object(m.jsx)(je.a,{id:"semestr",value:null===x||void 0===x?void 0:x.semestr,onChange:f,type:"number",sx:{m:1.5,width:"350px"},label:"semestr",placeholder:"semestr",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(_e.a,{})})},color:"secondary"}),Object(m.jsx)(je.a,{id:"week",value:null===x||void 0===x?void 0:x.week,onChange:f,type:"number",sx:{m:1.5,width:"350px"},label:"Tydzie\u0144",placeholder:"Tydzie\u0144",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(_e.a,{})})},color:"secondary"}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px"},type:"submit",color:"secondary",variant:"contained",onClick:w,children:"Akceptuj"})})]})]})})]})}var et=n(113),tt=n.n(et),nt=Object(U.a)({contc:{width:"auto",height:"500px",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",width:"auto",minWidth:"1000px",height:"430px",borderRadius:"15px"}});function at(){var e=nt(),t=Object(a.useState)([]),n=Object(E.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)([]),r=Object(E.a)(i,2),s=r[0],l=(r[1],Object(a.useState)([])),d=Object(E.a)(l,2),j=d[0],u=d[1],h=Object(a.useState)(!1),x=Object(E.a)(h,2),b=x[0],p=x[1],f=Object(a.useState)(!1),O=Object(E.a)(f,2),w=O[0],g=O[1],k=Object(P.e)();Object(a.useEffect)((function(){"Szkola"===k.state.role&&fetch(Y+"/".concat(k.state.id)).then((function(e){return e.json()})).then((function(e){return c(e)})),"Admin"===k.state.role&&fetch(Y).then((function(e){return e.json()})).then((function(e){return c(e)})),console.log(s.roleId,"role")}),[]);var C=function(){var e=Object(se.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.find((function(e){return e.id==t})),u(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=[{field:"deliveryDate",headerName:"Data",width:180},{field:"year",headerName:"Rok",width:150},{field:"userName",headerName:"Nazwa",width:180},{field:"studentScore",headerName:"Ilo\u015b\u0107",width:80},{field:"description",headerName:"Opis",width:180},{field:"statusName",headerName:"Status",width:150},{field:"actions",type:"actions",width:60,headerName:"Info",cellClassName:"actions",getActions:function(e){return[Object(m.jsx)(Ee.a,{icon:Object(m.jsx)(Re.a,{}),label:"Info",color:"inherit",onClick:Object(se.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e.id).then((function(){p(!0)}));case 2:case"end":return t.stop()}}),t)})))})]}}];return Object(m.jsx)(R.a,{sx:{padding:3},children:Object(m.jsxs)(v.a,{className:e.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"#c5cae9"},children:[Object(m.jsxs)(v.a,{variant:"h5",color:"#e8eaf6",component:"h2",align:"center",sx:{borderRadius:"15px",boxShadow:5,background:"#689f38",width:"80%"},children:["Wszystkie dostawy",Object(m.jsx)(y.a,{disabled:!function(){if("Admin"===k.state.role)return 1}(),children:Object(m.jsx)(tt.a,{onClick:function(){return g(!0)}})})]}),Object(m.jsx)(v.a,{className:e.autocom,sx:{boxShadow:3},children:Object(m.jsx)(Ue.a,{rows:o,columns:N})}),Object(m.jsx)(Me,{openPopupDelivery:b,setOpenPopupDelivery:p,delivery:j}),Object(m.jsx)(Xe,{openPopupAddDelivery:w,setOpenPopupAddDelivery:g})]})})}var ot=Object(U.a)({mess:{display:"flex",direction:"column",flexFlow:"stretch",margin:50,background:"white"},hist:{display:"flex",direction:"row",flexFlow:"stretch",margin:50,background:"white"}});function ct(e){var t=e.props,n=ot(),a=Object(P.g)(t).id;return Object(m.jsx)(R.a,{children:Object(m.jsxs)(v.a,{sx:{mt:3},children:[Object(m.jsxs)(v.a,{className:n.hist,children:[Object(m.jsx)(Ge,{id:a}),Object(m.jsx)(Je,{id:a})]}),Object(m.jsx)(at,{id:a})]})})}var it=n(6),rt=n(91),st=n.n(rt),lt=n(161),dt=n.n(lt),jt=n(390),ut=Object(U.a)({contc:{width:"500px",height:"auto",display:"flex",flexDirection:"row",justifyContent:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",width:"350px"}});function ht(e){var t,n=ut(),o=e.openPopupFile,c=e.setOpenPopupFile,i=Object(a.useState)([]),r=Object(E.a)(i,2),s=r[0],l=r[1],d=Object(a.useState)(s[0]),j=Object(E.a)(d,2),u=j[0],h=(j[1],Object(a.useState)()),x=Object(E.a)(h,2),b=x[0],p=x[1],f=Object(a.useState)(!1),O=Object(E.a)(f,2),w=O[0],g=O[1],k=function(e,t){var n,a=e.target.id;a.includes("clear-on-escape-option")&&(a="userId"),p(Object(de.a)(Object(de.a)({},b),{},Object(le.a)({},a,null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:e.target.value)))},C=function(){c(!1)};return Object(a.useEffect)((function(){fetch(F).then((function(e){return e.json()})).then((function(e){return l(e)}))}),[]),Object(m.jsxs)(me.a,{open:o,fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:C,children:"Anuluj"}),Object(m.jsx)(we.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Dodaj nowy dokument "})})}),Object(m.jsx)(ve.a,{sx:{display:"flex",justifyContent:"center"},children:Object(m.jsxs)(v.a,{className:n.contc,p:3,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)("label",{htmlFor:"contained-button-file",children:Object(m.jsx)(jt.a,{type:"file",onChange:function(e){g(e.target.files[0])},accept:"pdf/*",id:"contained-button-file",sx:{m:1}})}),Object(m.jsx)(je.a,{id:"name",value:null!==(t=null===b||void 0===b?void 0:b.name)&&void 0!==t?t:"",onChange:k,sx:{m:1,width:"350px"},label:"Nazwa pliku",placeholder:"Nazwa pliku",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(st.a,{})})},color:"secondary"}),Object(m.jsx)(ue.a,{id:"clear-on-escape",value:u,noOptionsText:"Nie ma takiego u\u017cytkownika",clearOnEscape:!0,options:s,getOptionLabel:function(e){return e.fullName},sx:{m:1,width:350},onChange:k,renderInput:function(e){return Object(m.jsx)(je.a,Object(de.a)(Object(de.a)({},e),{},{label:"Nazwa szko\u0142y"}))}}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",onClick:function(e){var t=new FormData;t.append("files",w),t.append("name",b.name),t.append("userId",b.userId),dt()({method:"post",url:te,data:t}).then((function(e){var t=e.data;console.log("Succesfully uploaded: ",JSON.stringify(t))})).then(C())},children:"Wy\u015blij"})})]}),Object(m.jsx)(v.a,{})]})})]})}var xt=Object(U.a)({contc:{width:"500px",height:"auto",display:"flex",flexDirection:"row",justifyContent:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",width:"350px"}});function bt(e){var t=xt(),n=e.openPopupFileUpdate,o=e.setOpenPopupFileUpdate,c=e.file,i=Object(a.useState)(!1),r=Object(E.a)(i,2),s=r[0],l=r[1],d=function(){o(!1)};return Object(m.jsxs)(me.a,{open:n,fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:d,children:"Anuluj"}),Object(m.jsx)(we.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Ode\u015blij dokument "})})}),Object(m.jsx)(ve.a,{sx:{display:"flex",justifyContent:"center"},children:Object(m.jsxs)(v.a,{className:t.contc,p:3,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)("label",{htmlFor:"contained-button-file",children:Object(m.jsx)(jt.a,{type:"file",onChange:function(e){l(e.target.files[0])},accept:"pdf/*",id:"contained-button-file",color:"secondary",sx:{m:1}})}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",onClick:function(e){var t=new FormData;t.append("files",s),dt()({method:"put",url:ne+"/".concat(c.id),data:t}).then((function(e){var t=e.data;console.log("Succesfully uploaded: ",JSON.stringify(t))})).then(d())},children:"Wy\u015blij"})})]}),Object(m.jsx)(v.a,{})]})})]})}var pt=Object(U.a)({contc:{width:"auto",height:"auto",display:"flex",flexDirection:"row",flexWrap:"wrap",borderRadius:"15px"}});function ft(){var e=Object(a.useState)([]),t=Object(E.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),r=Object(E.a)(i,2),s=(r[0],r[1],pt()),l=Object(a.useState)([]),d=Object(E.a)(l,2),j=(d[0],d[1],Object(a.useState)(!1)),u=Object(E.a)(j,2),h=u[0],x=u[1],b=Object(a.useState)(!1),p=Object(E.a)(b,2),f=p[0],O=p[1],w=Object(a.useState)(),g=Object(E.a)(w,2),k=g[0],C=g[1],N=Object(P.e)();Object(it.a)("input")({display:"none"});Object(a.useEffect)((function(){"Szkola"===N.state.role&&fetch(X+"/".concat(N.state.id)).then((function(e){return e.json()})).then((function(e){return c(e)})),"Admin"===N.state.role&&fetch(X).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]);var S=function(){var e=Object(se.a)(re.a.mark((function e(t){var a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.find((function(e){return e.id==t})),C(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=o.a.useCallback((function(e){return function(){fetch(ee+"/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=t,n.setAttribute("download","document.pdf"),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)}))}}));return Object(m.jsxs)(R.a,{sx:{padding:3},children:[Object(m.jsx)(v.a,{children:Object(m.jsxs)(y.a,{sx:{borderRadius:"55px",m:1},component:"span",type:"submit",color:"secondary",variant:"contained",onClick:function(){return x(!0)},disabled:!function(){if("Admin"===N.state.role)return 1}(),children:[Object(m.jsx)(tt.a,{sx:{fontSize:25,mr:1}}),"Dodaj"]})}),Object(m.jsx)(v.a,{component:"span",sx:{display:"flex",justifyContent:"space-around",alignItems:"stretch",flexDirection:"row",flexWrap:"wrap"},children:n.map((function(e){return Object(m.jsx)(v.a,{component:"span",sx:{padding:3},children:Object(m.jsxs)(v.a,{className:s.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"Zrealizowano"==e.statusName?"#b2ff59":"#ffeb3b",background:"Zrealizowano"==e.statusName?"#b2ff59":"#ffeb3b"},children:[Object(m.jsx)(D.a,{alt:"file",src:"grafika_dok.png",sx:{width:180,height:160,m:1}}),Object(m.jsxs)(v.a,{sx:{display:"flex",justifyContent:"space-around",flexDirection:"column",m:1},children:[Object(m.jsx)("h4",{children:e.name}),Object(m.jsxs)(v.a,{children:[Object(m.jsxs)("h7",{children:["Data: ",e.updateDate]}),Object(m.jsx)("h6",{children:e.statusName})]}),Object(m.jsxs)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(m.jsx)(y.a,{sx:{width:"80px",height:"25px",mr:2},type:"submit",color:"info",variant:"contained",onClick:I(e.id),children:"Pobierz"}),Object(m.jsx)(y.a,{sx:{width:"80px",height:"25px"},type:"submit",color:"success",variant:"contained",component:"span",disabled:"Zrealizowano"==e.statusName,onClick:Object(se.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e.id).then((function(){O(!0)}));case 2:case"end":return t.stop()}}),t)}))),children:"Ode\u015blij"})]})]})]})})}))}),Object(m.jsx)(ht,{openPopupFile:h,setOpenPopupFile:x}),Object(m.jsx)(bt,{openPopupFileUpdate:f,setOpenPopupFileUpdate:O,file:k})]})}var Ot=Object(U.a)({mess:{display:"flex",direction:"row",flexFlow:"stretch",background:"white"}});function mt(e){var t=Ot(),n=Object(P.g)(e).id;return Object(m.jsx)(R.a,{children:Object(m.jsx)(v.a,{className:t.mess,sx:{mt:3},children:Object(m.jsx)(ft,{id:n})})})}var wt=n(256),vt=n(245),yt=n.n(vt),gt=n(246),kt=n.n(gt),Ct=n(244),Nt=n.n(Ct),St=n(238),Pt=n.n(St),It=n(49),zt=n(93),Dt=n.n(zt),At=n(92),Tt=n.n(At),Wt=n(237),Rt=n.n(Wt),Et=n(239),Ut=n.n(Et),Ft=n(242),Mt=n.n(Ft),Lt=n(243),Jt=n.n(Lt),Zt=n(240),Gt=n.n(Zt),Bt=n(241),Kt=n.n(Bt),_t=n(134),Ht=n.n(_t),Vt=Object(U.a)({contc:{width:"auto",height:"auto",display:"flex",flexDirection:"row",justifyContent:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"},tekstbox:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"}});function $t(e){var t,n=Vt(),o=e.openPopup,c=e.setOpenPopup,i=Object(a.useState)([]),r=Object(E.a)(i,2),s=r[0],l=r[1],d=Object(a.useState)(),j=Object(E.a)(d,2),u=j[0],h=j[1],x=Object(a.useState)(s[0]),b=Object(E.a)(x,2),p=(b[0],b[1],Object(P.e)(),function(){c(!1)});Object(a.useEffect)((function(){fetch(K).then((function(e){return e.json()})).then((function(e){return l(e)}))}),[]);var f=Object(a.useState)({password:"",showPassword:!1,fullName:"",shortName:"",studentScore:"",street:"",number:"",code:"",phone:"",email:"",townId:""}),O=Object(E.a)(f,2),w=O[0],g=O[1];var k=function(e,t){var n=e.target.id;n.includes("clear-on-escape-option")&&(n="townId"),g(Object(de.a)(Object(de.a)({},w),{},Object(le.a)({},n,null!==t&&void 0!==t?t:e.target.value)))};console.log(u,"newUser");var C=function(){var e=Object(se.a)(re.a.mark((function e(){var t,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={fullName:w.fullName,shortName:w.shortName,studentScore:w.studentScore,street:w.street,number:w.number,code:w.code,phone:w.phone,email:w.email,townId:w.townId.id,password:w.password},n={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},fetch(L,n).then((function(){h()})).then(p()),console.log(t,"nowyUser");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(me.a,{open:o,fullWidth:!0,maxWidth:"lg",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:p,children:"Anuluj"}),Object(m.jsx)(we.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:" Dodaj now\u0105 szko\u0142\u0119 "})})}),Object(m.jsx)(ve.a,{sx:{display:"flex",justifyContent:"center"},children:Object(m.jsxs)(v.a,{className:n.contc,p:2,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)(je.a,{id:"fullName",value:w.fullName,onChange:k,sx:{m:1,width:"350px"},label:"Pe\u0142na nazwa szko\u0142y",placeholder:"Pe\u0142na nazwa szko\u0142y",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(Rt.a,{})})},color:"secondary"}),Object(m.jsx)(je.a,{id:"shortName",value:w.shortName,onChange:k,sx:{m:1,width:"350px"},label:"Skr\xf3cona nazwa szko\u0142y",placeholder:"Skr\xf3cona nazwa szko\u0142y",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(Pt.a,{})})},color:"secondary"}),Object(m.jsx)(je.a,{id:"studentScore",value:w.studentScore,type:"number",onChange:k,sx:{m:1,width:"350px"},label:"Ilo\u015b\u0107 uczni\xf3w",placeholder:"Ilo\u015b\u0107 uczni\xf3w",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(Ut.a,{})})},color:"secondary"})]}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(je.a,{id:"street",value:w.street,onChange:k,sx:{m:1,width:"320px"},label:"Nazwa ulicy",placeholder:"Nazwa ulicy",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(Gt.a,{})})},color:"secondary"}),Object(m.jsx)(je.a,{id:"number",value:w.number,type:"number",onChange:k,sx:{m:1,mt:2,width:"150px"},label:"Numer budynku",placeholder:"Numer budynku",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(Kt.a,{})})},color:"secondary"}),Object(m.jsx)(qe.a,{mask:"99999",value:w.code,onChange:k,maskChar:" ",children:function(){return Object(m.jsx)(je.a,{id:"code",sx:{m:1,mt:2,width:"150px"},label:"Kod pocztowy",placeholder:"Kod pocztowy",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(Ht.a,{})})},color:"secondary"})}}),Object(m.jsx)(v.a,{className:n.autocom,children:Object(m.jsx)(ue.a,{value:w.townId,onChange:k,id:"clear-on-escape",clearOnEscape:!0,options:s,getOptionLabel:function(e){return e.name},noOptionsText:"Dodaj nowe miasto",sx:{ml:1,mb:1,width:320},renderInput:function(e){return Object(m.jsx)(je.a,Object(de.a)(Object(de.a)({helperText:"Wybierz nazw\u0119 miasta z listy"},e),{},{label:"Nazwa miasta",variant:"standard"}))}})}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"center"},mt:5,children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px"},type:"submit",color:"secondary",variant:"contained",disabled:!(w.fullName&&w.shortName&&w.studentScore&&w.street&&w.number&&w.code&&w.phone&&w.email&&w.password),onClick:C,children:"Utw\xf3rz"})})]}),Object(m.jsxs)(v.a,{ml:2,children:[Object(m.jsx)(qe.a,{mask:"999999999",value:w.phone,onChange:k,maskChar:" ",children:function(){return Object(m.jsx)(je.a,{id:"phone",onChange:k,sx:{m:1,width:"350px"},label:"Telefon kontaktowy",placeholder:"Telefon kontaktowy",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(Mt.a,{})})},color:"secondary"})}}),Object(m.jsx)(je.a,{id:"email",value:w.email,onChange:k,sx:{m:1,width:"350px"},label:"Adres e-mail",placeholder:"Adres e-mail",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(Jt.a,{})})},color:"secondary"}),Object(m.jsx)(je.a,(t={id:"password",value:w.password,sx:{m:1,width:"350px"},label:"Has\u0142o",type:w.showPassword?"text":"password"},Object(le.a)(t,"value",w.password),Object(le.a)(t,"onChange",k),Object(le.a)(t,"InputProps",{endAdornment:Object(m.jsx)(Be.a,{position:"end",children:Object(m.jsx)(It.a,{"aria-label":"toggle password visibility",onClick:function(){g(Object(de.a)(Object(de.a)({},w),{},{showPassword:!w.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:w.showPassword?Object(m.jsx)(Tt.a,{}):Object(m.jsx)(Dt.a,{})})})}),Object(le.a)(t,"color","secondary"),t))]})]})}),Object(m.jsx)(ye.a,{})]})}var Yt=Object(U.a)({contc:{width:"800px",height:"auto",display:"flex",flexDirection:"row",justifyContent:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"}});function qt(e){var t=Yt(),n=e.openPopupEditUser,o=e.setOpenPopupEditUser,c=e.user,i=Object(a.useState)(),r=Object(E.a)(i,2),s=r[0],l=r[1];Object(P.e)();function d(){window.location.reload()}Object(a.useEffect)((function(){c&&l(c)}),[c]);var j=function(e){var t=e.target.id;l(Object(de.a)(Object(de.a)({},s),{},Object(le.a)({},t,e.target.value)))};console.log(s,"nowyUser");var u=function(){var e=Object(se.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(se.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"PUT",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}},fetch(F+"/edit"+"/".concat(s.id),t).then(u()).then(d);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(s,"user"),Object(m.jsxs)(me.a,{open:n,fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"secondary",variant:"contained",onClick:u,children:"Anuluj"}),Object(m.jsx)(we.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",marginBottom:7},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Edytuj dane u\u017cytkownika "})})}),Object(m.jsx)(ve.a,{sx:{display:"flex",justifyContent:"center"},children:Object(m.jsxs)(v.a,{className:t.contc,p:5,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)(je.a,{disabled:!0,sx:{m:1,width:"200px"},label:"ID",placeholder:"ID",color:"secondary",value:null===c||void 0===c?void 0:c.id}),Object(m.jsx)(je.a,{sx:{m:1,mt:2,width:"200px"},label:"Nazwa u\u017cytkownika",placeholder:"Nazwa u\u017cytkownika",color:"secondary",value:null===s||void 0===s?void 0:s.fullName,id:"fullName",onChange:j})]}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(je.a,{sx:{m:1,mt:2,width:"200px"},label:"Ilo\u015b\u0107 uczni\xf3w",placeholder:"Ilo\u015b\u0107 uczni\xf3w",value:null===s||void 0===s?void 0:s.studentScore,id:"studentScore",onChange:j,InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(Ht.a,{})})},color:"secondary"}),Object(m.jsx)(qe.a,{mask:"999999999",value:null===s||void 0===s?void 0:s.phone,maskChar:" ",onChange:j,children:function(){return Object(m.jsx)(je.a,{sx:{m:1,mt:2,width:"200px"},label:"Numer telefonu",placeholder:"Numer telefonu",value:null===s||void 0===s?void 0:s.phone,id:"phone",onChange:j,InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(Ht.a,{})})},color:"secondary"})}}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",onClick:h,disabled:!((null===s||void 0===s?void 0:s.studentScore)&&(null===s||void 0===s?void 0:s.fullName)&&(null===s||void 0===s?void 0:s.phone)),children:"Akceptuj"})})]})]})})]})}var Qt=Object(U.a)({contc:{width:"800px",height:"auto",display:"flex",flexDirection:"row",justifyContent:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"}});function Xt(e){var t=Qt(),n=e.openPoupInfoUser,a=e.setOpenPoupInfoUser,o=e.user,c=e.dataTown,i=function(){var e=Object(se.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(me.a,{open:n,fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"secondary",variant:"contained",onClick:i,children:"Anuluj"}),Object(m.jsx)(we.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",marginBottom:7},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Szczeg\xf3\u0142y u\u017cytkownika "})})}),Object(m.jsx)(ve.a,{sx:{display:"flex",justifyContent:"center"},children:Object(m.jsx)(v.a,{className:t.contc,p:5,sx:{boxShadow:3},children:Object(m.jsxs)(v.a,{children:[Object(m.jsxs)("h6",{children:["Id u\u017cytkownika: ",null===o||void 0===o?void 0:o.id]}),Object(m.jsxs)("h6",{children:["Nazwa u\u017cytkownika: ",null===o||void 0===o?void 0:o.fullName]}),Object(m.jsxs)("h6",{children:["Ilo\u015b\u0107 uczni\xf3w: ",null===o||void 0===o?void 0:o.studentScore," "]}),Object(m.jsxs)("h6",{children:["Adres: ul. ",null===c||void 0===c?void 0:c.street,"  ",null===c||void 0===c?void 0:c.number," , ",null===c||void 0===c?void 0:c.townName,"  "]}),Object(m.jsxs)("h6",{children:["Wojew\xf3dztwo: ",null===c||void 0===c?void 0:c.province," "]}),Object(m.jsxs)("h6",{children:["Powiat: ",null===c||void 0===c?void 0:c.district," "]}),Object(m.jsxs)("h6",{children:["Gmina: ",null===c||void 0===c?void 0:c.commune," "]})]})})})]})}function en(e){var t=Object(a.useState)(!1),n=Object(E.a)(t,2),o=n[0],c=n[1];return Object(m.jsxs)(wt.a,{sx:{p:.5,pb:0,justifyContent:"space-between",display:"flex",alignItems:"flex-start",flexWrap:"wrap"},children:[Object(m.jsx)(v.a,{sx:{display:"flex",alignItems:"center",direction:"column",flexWrap:"wrap"},children:Object(m.jsx)("div",{children:Object(m.jsx)(Ue.c,{})})}),Object(m.jsxs)("div",{children:[Object(m.jsxs)(y.a,{sx:{borderRadius:"55px"},type:"submit",color:"secondary",variant:"contained",onClick:function(){return c(!0)},children:[Object(m.jsx)(Nt.a,{sx:{fontSize:25}}),"Dodaj now\u0105 szko\u0142\u0119"]}),Object(m.jsx)($t,{openPopup:o,setOpenPopup:c})]})]})}function tn(){var e=Object(a.useState)(!1),t=Object(E.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),r=Object(E.a)(i,2),s=r[0],l=r[1],d=[{field:"id",headerName:"ID",width:80},{field:"shortName",headerName:"Nazwa Szko\u0142y",width:130},{field:"fullName",headerName:"Nazwa",width:220},{field:"studentScore",headerName:"Uczniowie",width:100},{field:"phone",headerName:"Telefon",width:120},{field:"email",headerName:"E-mail",width:170},{field:"roleName",headerName:"Rola",width:90},{field:"actions",type:"actions",headerName:"Opcje",width:130,cellClassName:"actions",getActions:function(e){return[Object(m.jsx)(Ee.a,{icon:Object(m.jsx)(Re.a,{}),label:"Info",color:"inherit",onClick:Object(se.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e.id).then((function(){l(!0)}));case 2:case"end":return t.stop()}}),t)})))}),Object(m.jsx)(Ee.a,{icon:Object(m.jsx)(yt.a,{}),label:"Edit",className:"textPrimary",onClick:Object(se.a)(re.a.mark((function t(){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e.id).then((function(){c(!0)}));case 2:case"end":return t.stop()}}),t)}))),color:"inherit"}),Object(m.jsx)(Ee.a,{icon:Object(m.jsx)(kt.a,{}),label:"Delete",onClick:D(e.id),color:"inherit"})]}}],j=Object(a.useState)([]),u=Object(E.a)(j,2),h=u[0],x=u[1],b=Object(a.useState)(),p=Object(E.a)(b,2),f=p[0],O=p[1],w=Object(a.useState)(""),v=Object(E.a)(w,2),y=(v[0],v[1],Object(a.useState)(h.rows)),g=Object(E.a)(y,2),k=(g[0],g[1]),C=Object(a.useState)(),N=Object(E.a)(C,2),S=N[0],P=N[1];function I(){window.location.reload()}Object(a.useEffect)((function(){k(h.rows)}),[h.rows]);var z=function(){var e=Object(se.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.find((function(e){return e.id==t})),O(n),console.log(n,"elementUser"),e.next=5,fetch(H+"/".concat(t)).then((function(e){return e.json()})).then((function(e){return P(e)}));case 5:console.log(S,"elementTown");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=o.a.useCallback((function(e){return function(){fetch(F+"/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(){setTimeout((function(){x((function(t){return t.filter((function(t){return t.id!==e}))}))}))})).then(I)}}),[]);return Object(a.useEffect)((function(){fetch(F).then((function(e){return e.json()})).then((function(e){return x(e)}))}),[]),Object(m.jsxs)(wt.a,{sx:{boxShadow:4,bgcolor:"background.paper",height:500,width:1},children:[Object(m.jsx)(qt,{openPopupEditUser:n,setOpenPopupEditUser:c,user:f}),Object(m.jsx)(Xt,{openPoupInfoUser:s,setOpenPoupInfoUser:l,user:f,dataTown:S}),Object(m.jsx)(Ue.a,{components:{Toolbar:en},rows:h,columns:d})]})}function nn(){return Object(m.jsx)(R.a,{sx:{mt:3},children:Object(m.jsx)(tn,{})})}n(197),n(196);var an=Object(U.a)({contc:{width:"500px",height:"auto",display:"flex",flexDirection:"row",justifyContent:"flex-start",border:1,borderRadius:"15px",borderColor:"#7986cb"},autocom:{display:"flex",justifyContent:"space-around",textAlign:"center",width:"350px"}});function on(e){var t,n,o,c,i,r=an(),s=e.openPopupTown,l=e.setOpenPopupTown,d=Object(a.useState)({province:"dolno\u015bl\u0105skie"}),j=Object(E.a)(d,2),u=j[0],h=j[1];var x=function(){l(!1)},b=function(e,t){var n=e.target.id;n.includes("clear-on-escape-option")&&(n="townId"),h(Object(de.a)(Object(de.a)({},u),{},Object(le.a)({},n,null!==t&&void 0!==t?t:e.target.value))),console.log(u,"newTown")},p=function(){var e=Object(se.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json"}},fetch(_,t).then(x());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(me.a,{open:s,fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(y.a,{sx:{width:"90px",height:"35px"},type:"submit",color:"error",variant:"contained",onClick:x,children:"Anuluj"}),Object(m.jsx)(we.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:" Dodaj nowe miasto "})})}),Object(m.jsx)(ve.a,{sx:{display:"flex",justifyContent:"center"},children:Object(m.jsxs)(v.a,{className:r.contc,p:3,sx:{boxShadow:3},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)(je.a,{id:"name",value:null!==(t=null===u||void 0===u?void 0:u.name)&&void 0!==t?t:"",onChange:b,sx:{m:1,width:"200px"},label:"Nazwa miasta",placeholder:"Nazwa miasta",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(st.a,{})})},color:"secondary"}),Object(m.jsx)(je.a,{id:"district",value:null!==(n=null===u||void 0===u?void 0:u.district)&&void 0!==n?n:"",onChange:b,sx:{m:1,width:"200px"},label:"Powiat",placeholder:"Powiat",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(st.a,{})})},color:"secondary"})]}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(je.a,(c={InputProps:{readOnly:!0},id:"province",value:null!==(o=null===u||void 0===u?void 0:u.province)&&void 0!==o?o:"dolno\u015bl\u0105skie",onChange:b,sx:{m:1,width:"200px"},label:"Wojew\xf3dztwo"},Object(le.a)(c,"InputProps",{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(st.a,{})})}),Object(le.a)(c,"color","secondary"),c)),Object(m.jsx)(je.a,{id:"commune",value:null!==(i=null===u||void 0===u?void 0:u.commune)&&void 0!==i?i:"",onChange:b,sx:{m:1,width:"200px"},label:"Gmina",placeholder:"Gmina",InputProps:{startAdornment:Object(m.jsx)(Be.a,{position:"start",children:Object(m.jsx)(st.a,{})})},color:"secondary"}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"120px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",onClick:p,disabled:!((null===u||void 0===u?void 0:u.name)&&(null===u||void 0===u?void 0:u.province)&&(null===u||void 0===u?void 0:u.district)&&(null===u||void 0===u?void 0:u.commune)),children:"Zapisz"})})]})]})})]})}function cn(){var e=Object(a.useState)(!1),t=Object(E.a)(e,2),n=t[0],c=t[1],i=o.a.useState(""),r=Object(E.a)(i,2),s=r[0],l=r[1],d=function(e){l(e);var t=new RegExp(e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),n=h.filter((function(e){return Object.keys(e).some((function(n){return t.test(e[n].toString())}))}));x(n)},j=Object(a.useState)([]),u=Object(E.a)(j,2),h=u[0],x=u[1];return Object(a.useEffect)((function(){fetch(V).then((function(e){return e.json()})).then((function(e){return x(e)}))}),[]),o.a.useEffect((function(){x(h)}),[h]),Object(m.jsxs)(wt.a,{sx:{boxShadow:4,bgcolor:"background.paper",height:480,width:1},children:[Object(m.jsxs)(y.a,{sx:{borderRadius:"55px",m:1},type:"submit",color:"secondary",variant:"contained",onClick:function(){return c(!0)},children:[Object(m.jsx)(tt.a,{sx:{fontSize:25,mr:1}}),"Miasto"]}),Object(m.jsx)(on,{openPopupTown:n,setOpenPopupTown:c}),Object(m.jsx)(Ue.a,{components:{Toolbar:Ue.b},rows:h,columns:[{field:"province",headerName:"Wojew\xf3dztwo",width:120},{field:"commune",headerName:"Gmina",width:120},{field:"district",headerName:"Powiat",width:100},{field:"townName",headerName:"Miasto",width:100},{field:"code",headerName:"Kod pocztowy",width:120},{field:"street",headerName:"Ulica",width:100},{field:"number",headerName:"Numer",width:70},{field:"userName",headerName:"Nazwa szko\u0142y",width:180},{field:"userEmail",headerName:"E-mail",width:160}],componentsProps:{toolbar:{value:s,onChange:function(e){return d(e.target.value)},clearSearch:function(){return d("")}}}})]})}function rn(){return Object(m.jsx)(R.a,{children:Object(m.jsx)(v.a,{sx:{mt:3},children:Object(m.jsx)(cn,{})})})}var sn=Object(U.a)({contc:{width:"auto",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px"},info:{width:"100%",height:"auto",display:"flex",flexDirection:"row",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px"},account:{width:"50%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center"}});function ln(){var e,t,n,o,c,i=sn(),r=Object(a.useState)([]),s=Object(E.a)(r,2),l=s[0],d=s[1],j=Object(a.useState)([]),u=Object(E.a)(j,2),h=u[0],x=u[1],b=Object(a.useState)({tableData:l,adressData:h}),p=Object(E.a)(b,2),f=p[0],O=p[1],w=Object(P.e)();Object(a.useEffect)((function(){fetch(F+"/".concat(w.state.id)).then((function(e){return e.json()})).then((function(e){return d(e)}))}),[]),Object(a.useEffect)((function(){fetch(H+"/".concat(w.state.id)).then((function(e){return e.json()})).then((function(e){return x(e)}))}),[]),Object(a.useEffect)((function(){l&&O(l)}),[l]),Object(a.useEffect)((function(){h&&O(h)}),[h]);var g=function(e){var t=e.target.id;O(Object(de.a)(Object(de.a)({},f),{},Object(le.a)({},t,e.target.value)))};function k(){window.location.reload()}var C=function(){var e=Object(se.a)(re.a.mark((function e(){var t,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={street:f.street,number:f.number,studentScore:f.studentScore,phone:f.phone},n={method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},fetch(F+"/".concat(w.state.id),n).then(k);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(R.a,{sx:{padding:2},children:Object(m.jsx)(v.a,{className:i.contc,p:1,sx:{boxShadow:5,border:2,borderColor:"#c5cae9"},children:Object(m.jsxs)(v.a,{className:i.info,children:[Object(m.jsxs)(v.a,{className:i.account,sx:{borderRight:2,borderColor:"#c5cae9"},children:[Object(m.jsx)(D.a,{alt:"szkola",src:"logo_szko\u0142a.png",sx:{width:200,height:180,m:3}}),Object(m.jsx)("h3",{children:l.fullName}),Object(m.jsx)("h5",{children:l.shortName})]}),Object(m.jsxs)(v.a,{sx:{m:3,width:"95%",height:"auto"},children:[Object(m.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(m.jsx)("h2",{children:"Tw\xf3j profil"}),Object(m.jsx)("p",{children:"Niek\xf3re z danych mo\u017cesz aktualizowa\u0107"})]}),Object(m.jsx)(v.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},children:Object(m.jsxs)(v.a,{children:[Object(m.jsxs)(v.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},children:[Object(m.jsxs)(v.a,{children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)(je.a,{InputLabelProps:{shrink:!0},sx:{m:1,mt:2,width:"190px"},label:"Ulica",placeholder:"Ulica",color:"secondary",value:null===f||void 0===f?void 0:f.street,id:"street",onChange:g}),Object(m.jsx)(je.a,{InputLabelProps:{shrink:!0},sx:{m:1,mt:2,width:"90px"},label:"Numer",placeholder:"Numer",color:"secondary",value:null===f||void 0===f?void 0:f.number,id:"number",onChange:g})]}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(je.a,{disabled:!0,sx:{m:1,mt:2,width:"190px"},label:"Miasto",placeholder:"Miasto",color:"secondary",value:null!==(e=null===h||void 0===h?void 0:h.townName)&&void 0!==e?e:"",id:"townName"}),Object(m.jsx)(qe.a,{mask:"99-999",value:null!==(t=null===h||void 0===h?void 0:h.code)&&void 0!==t?t:"",disabled:!0,maskChar:" ",onChange:g,children:function(){var e;return Object(m.jsx)(je.a,{disabled:!0,sx:{m:1,mt:2,width:"90px"},label:"Kod",placeholder:"Kod",color:"secondary",value:null!==(e=null===h||void 0===h?void 0:h.code)&&void 0!==e?e:"",id:"code"})}})]}),Object(m.jsx)(v.a,{children:Object(m.jsx)(je.a,{InputLabelProps:{shrink:!0},sx:{m:1,mt:2,width:"300px"},label:"Ilo\u015b\u0107 uczni\xf3w",placeholder:"Ilo\u015b\u0107 uczni\xf3w",color:"secondary",value:null===f||void 0===f?void 0:f.studentScore,id:"studentScore",onChange:g})})]}),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(je.a,{disabled:!0,sx:{m:1,mt:2,width:"250px"},label:"Wojew\xf3dztwo",placeholder:"Wojew\xf3dztwo",color:"secondary",value:null!==(n=null===h||void 0===h?void 0:h.province)&&void 0!==n?n:"",id:"province"}),Object(m.jsx)(je.a,{disabled:!0,sx:{m:1,mt:2,width:"250px"},label:"Gmina",placeholder:"Gmina",color:"secondary",value:null!==(o=null===h||void 0===h?void 0:h.district)&&void 0!==o?o:"",id:"district"}),Object(m.jsx)(je.a,{disabled:!0,sx:{m:1,mt:2,width:"250px"},label:"Powiat",placeholder:"Powiat",color:"secondary",value:null!==(c=null===h||void 0===h?void 0:h.commune)&&void 0!==c?c:"",id:"commune"})]})]}),Object(m.jsx)("h5",{children:"Dane kontaktowe"}),Object(m.jsxs)(v.a,{children:[Object(m.jsxs)(v.a,{children:[Object(m.jsx)(je.a,{disabled:!0,sx:{m:1,mt:2,width:"300px"},label:"Adres e-mail",placeholder:"Adres e-mail",color:"secondary",defaultValue:"nazwa uzytkownika",value:null===l||void 0===l?void 0:l.email,id:"fullName"}),Object(m.jsx)(qe.a,{mask:"999999999",value:null===f||void 0===f?void 0:f.phone,disabled:!1,maskChar:" ",onChange:g,children:function(){return Object(m.jsx)(je.a,{InputLabelProps:{shrink:!0},sx:{m:1,mt:2,width:"300px"},label:"Numer telefonu",placeholder:"Numer telefonu",color:"secondary",id:"phone"})}})]}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"150px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",onClick:C,children:"Zapisz zmiany"})})]})]})})]})]})})})}var dn=Object(U.a)({contc:{width:"auto",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px"},info:{width:"100%",height:"auto",display:"flex",flexDirection:"column"}});function jn(){var e=dn(),t=Object(a.useState)([]),n=Object(E.a)(t,2),o=(n[0],n[1]);Object(a.useEffect)((function(){fetch(Y).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]);var c=Object(a.useState)({password:"",showPassword:!1}),i=Object(E.a)(c,2),r=i[0],s=i[1],l=function(e){return function(t){s(Object(de.a)(Object(de.a)({},r),{},Object(le.a)({},e,t.target.value)))}},d=function(){s(Object(de.a)(Object(de.a)({},r),{},{showPassword:!r.showPassword}))},j=function(e){e.preventDefault()};return Object(m.jsx)(R.a,{sx:{padding:0},children:Object(m.jsxs)(v.a,{className:e.contc,p:1,sx:{boxShadow:10,border:2,borderColor:"#c5cae9"},children:[Object(m.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",borderBottom:2,borderColor:"#c5cae9"},children:[Object(m.jsx)("h2",{children:"Zmie\u0144 has\u0142o"}),Object(m.jsx)("p",{children:"Potwierd\u017a stare has\u0142o i wprowad\u017a nowe"})]}),Object(m.jsxs)(v.a,{className:e.info,children:[Object(m.jsx)(v.a,{sx:{m:3},children:Object(m.jsx)(je.a,{id:"currentPassword",sx:{m:1,width:"350px"},label:"Aktualne has\u0142o",type:r.showPassword1?"text":"password",value:r.password1,onChange:l("password"),InputProps:{endAdornment:Object(m.jsx)(Be.a,{position:"end",children:Object(m.jsx)(It.a,{"aria-label":"toggle password visibility",onClick:d,onMouseDown:j,edge:"end",children:r.showPassword1?Object(m.jsx)(Tt.a,{}):Object(m.jsx)(Dt.a,{})})})},color:"secondary"})}),Object(m.jsx)(v.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(m.jsxs)(v.a,{children:[Object(m.jsx)(je.a,{id:"newPassword",sx:{m:1,width:"350px"},label:"Nowe has\u0142o",type:r.showPassword2?"text":"password",value:r.password2,onChange:l("password"),InputProps:{endAdornment:Object(m.jsx)(Be.a,{position:"end",children:Object(m.jsx)(It.a,{"aria-label":"toggle password visibility",onClick:d,onMouseDown:j,edge:"end",children:r.showPassword2?Object(m.jsx)(Tt.a,{}):Object(m.jsx)(Dt.a,{})})})},color:"secondary"}),Object(m.jsx)(je.a,{id:"confirmNewPassword",sx:{m:1,width:"350px"},label:"Powt\xf3rz nowe has\u0142o",type:r.showPassword3?"text":"password",value:r.password3,onChange:l("password3"),InputProps:{endAdornment:Object(m.jsx)(Be.a,{position:"end",children:Object(m.jsx)(It.a,{"aria-label":"toggle password visibility",onClick:d,onMouseDown:j,edge:"end",children:r.showPassword3?Object(m.jsx)(Tt.a,{}):Object(m.jsx)(Dt.a,{})})})},color:"secondary"})]})}),Object(m.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(y.a,{sx:{width:"150px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",children:"Zmie\u0144"})})]})]})})}var un=Object(U.a)({mess:{display:"flex",direction:"column",flexFlow:"stretch",background:"white"},hist:{display:"flex",direction:"row",flexFlow:"stretch",background:"white"}});function hn(e){var t=un(),n=Object(P.g)(e).id;return Object(m.jsx)(R.a,{children:Object(m.jsxs)(v.a,{children:[Object(m.jsx)(v.a,{className:t.hist,children:Object(m.jsx)(ln,{id:n})}),Object(m.jsx)(v.a,{className:t.hist,children:Object(m.jsx)(jn,{id:n})})]})})}var xn=Object(U.a)({contc:{width:"900px",height:"500px",display:"flex",flexDirection:"row",justifyContent:"space-around",textAlign:"center",alignItems:"center",borderRadius:"15px",flexWrap:"wrap",background:"white"},info:{width:"100%",height:"auto",display:"flex"},account:{width:"90%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-around",textAlign:"center",alignItems:"center",flexWrap:"wrap"}});function bn(){var e=xn(),t=Object(P.f)(),n=Object(a.useState)(null),o=Object(E.a)(n,2),c=o[0],i=o[1],r=Object(a.useState)({password:"",email:"",showPassword:!1}),s=Object(E.a)(r,2),l=s[0],d=s[1],j=function(e){return function(t){d(Object(de.a)(Object(de.a)({},l),{},Object(le.a)({},e,t.target.value)))}};var u=function(){var e=Object(se.a)(re.a.mark((function e(){var n,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={email:l.email,password:l.password},a={method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},fetch(M,a).then((function(e){return e.json()})).then((function(e){if(!e)throw Error("b\u0142ad logowania");t("/home",{state:{id:e.id,role:e.roleName}})})).catch((function(e){i("Taki u\u017cytkownik nie istnieje!")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(R.a,{sx:{p:.5,pb:0,justifyContent:"space-between",display:"flex",alignItems:"flex-start",flexWrap:"wrap",padding:2},children:Object(m.jsx)(v.a,{className:e.contc,p:1,sx:{boxShadow:5,border:2,borderColor:"#689f38"},children:Object(m.jsxs)(v.a,{className:e.info,children:[Object(m.jsxs)(v.a,{className:e.account,sx:{borderRight:2,borderColor:"#c5cae9"},children:[Object(m.jsx)(D.a,{alt:"szkola",src:"Kleks_logo.png",sx:{width:200,height:180,m:3}}),Object(m.jsx)("h3",{children:"Witaj w CommunityApp"})]}),Object(m.jsxs)(v.a,{sx:{m:3,width:"95%",height:"auto"},children:[Object(m.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(m.jsx)("h2",{children:"Zaloguj si\u0119"}),Object(m.jsx)("p",{children:"Podaj sw\xf3j adres email oraz has\u0142o"})]}),Object(m.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(m.jsx)(je.a,{sx:{m:1,mt:2,width:"350px"},label:"E-mail",placeholder:"E-mail",color:"secondary",id:"email",value:l.email,onChange:j("email")}),Object(m.jsx)(je.a,{id:"currentPassword",sx:{m:1,width:"350px"},label:"Has\u0142o",type:l.showPassword?"text":"password",value:l.password,onChange:j("password"),InputProps:{endAdornment:Object(m.jsx)(Be.a,{position:"end",children:Object(m.jsx)(It.a,{"aria-label":"toggle password visibility",onClick:function(){d(Object(de.a)(Object(de.a)({},l),{},{showPassword:!l.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:l.showPassword?Object(m.jsx)(Tt.a,{}):Object(m.jsx)(Dt.a,{})})})},color:"secondary"})]}),Object(m.jsxs)(v.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[c&&Object(m.jsxs)("div",{children:[c," "]}),Object(m.jsx)(y.a,{sx:{width:"150px",height:"40px",mt:2},type:"submit",color:"secondary",variant:"contained",onClick:u,disabled:!(l.email&&l.password),children:"Zaloguj"})]})]})]})})})}function pn(){return Object(m.jsx)(R.a,{sx:{mt:3},children:Object(m.jsx)(bn,{})})}var fn=n(37),On=n(399),mn=n(247),wn=n(417),vn=Object(mn.a)({palette:{primary:{main:On.a[100]},secondary:{main:"#689f38"},background:{paper:"#fff",default:"#9ccc65"},action:{hover:"#c5e1a5"}},typography:{fontFamily:"Merriweather",fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600,fontWeightBold:700,h6:{fontSize:"15px",fontWeight:200}}});var yn=function(){var e=function(){return Object(m.jsx)(W,{children:Object(m.jsxs)(P.c,{children:[Object(m.jsx)(P.a,{path:"/home",element:Object(m.jsx)(ce,{})}),Object(m.jsx)(P.a,{path:"/users",element:Object(m.jsx)(nn,{})}),Object(m.jsx)(P.a,{path:"/delivery",element:Object(m.jsx)(ct,{})}),Object(m.jsx)(P.a,{path:"/files",element:Object(m.jsx)(mt,{})}),Object(m.jsx)(P.a,{path:"/adresses",element:Object(m.jsx)(rn,{})}),Object(m.jsx)(P.a,{path:"/contacts",element:Object(m.jsx)(Te,{})}),Object(m.jsx)(P.a,{path:"/settings",element:Object(m.jsx)(hn,{})})]})})};return Object(m.jsx)(wn.a,{theme:vn,children:Object(m.jsx)(fn.a,{children:Object(m.jsxs)(P.c,{children:[Object(m.jsx)(P.a,{path:"/login",element:Object(m.jsx)(pn,{})}),Object(m.jsx)(P.a,{path:"*",element:Object(m.jsx)(e,{})})]})})})},gn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,419)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),c(e),i(e)}))};i.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(yn,{})}),document.getElementById("root")),gn()}},[[318,1,2]]]);
//# sourceMappingURL=main.a1651997.chunk.js.map